[00:00:01.263] Server  LOG      ✓ Ready in 979ms
[00:00:08.013] Server  LOG      ○ Compiling /projects/[id] ...
[00:00:09.773] Server  WARN    [next-auth][warn][DEBUG_ENABLED] "\nhttps://next-auth.js.org/warnings#debug_enabled"
[00:00:09.782] Server  LOG     JWT Callback - Token: {}
[00:00:09.783] Server  LOG     JWT Callback - User: undefined
[00:00:09.783] Server  LOG     Session Callback - Session: {}
[00:00:09.783] Server  LOG     Session Callback - Token: {}
[00:00:10.250] Browser INFO    %cDownload the React DevTools for a better development experience: https://react.dev/link/react-devtools font-weight:bold
[00:00:11.387] Server  LOG     JWT Callback - Token: {}
[00:00:11.388] Server  LOG     JWT Callback - User: undefined
[00:00:11.388] Server  LOG     Session Callback - Session: {}
[00:00:11.389] Server  LOG     Session Callback - Token: {}
[00:00:12.184] Browser LOG     useMemo: columnsId updated []
[00:00:12.184] Browser LOG     useMemo: columnsId updated []
[00:00:12.257] Server  LOG     JWT Callback - Token: {}
[00:00:12.258] Server  LOG     JWT Callback - User: undefined
[00:00:12.259] Server  LOG     Session Callback - Session: {}
[00:00:12.260] Server  LOG     Session Callback - Token: {}
[00:00:13.299] Browser LOG     useEffect: fetchedColumns updated []
[00:00:13.299] Browser LOG     useMemo: columnsId updated []
[00:00:13.299] Browser LOG     useMemo: columnsId updated []
[00:00:14.649] Server  LOG      ✓ Compiled in 501ms
[00:00:14.702] Browser LOG     useMemo: columnsId updated []
[00:00:14.702] Browser LOG     useMemo: columnsId updated []
[00:00:15.952] Server  LOG     JWT Callback - Token: {}
[00:00:15.952] Server  LOG     JWT Callback - User: undefined
[00:00:15.953] Server  LOG     Session Callback - Session: {}
[00:00:15.953] Server  LOG     Session Callback - Token: {}
[00:00:15.955] Server  LOG     JWT Callback - Token: {}
[00:00:15.955] Server  LOG     JWT Callback - User: undefined
[00:00:15.956] Server  LOG     Session Callback - Session: {}
[00:00:15.956] Server  LOG     Session Callback - Token: {}
[00:00:15.964] Server  LOG     JWT Callback - Token: {}
[00:00:15.965] Server  LOG     JWT Callback - User: undefined
[00:00:15.965] Server  LOG     Session Callback - Session: {}
[00:00:15.966] Server  LOG     Session Callback - Token: {}
[00:00:15.968] Server  LOG     [Role Check] User: cmictuju30000bc4sqzswqrr8, Project: cmictvb480003bc4sjtzuqwlj
[00:00:16.639] Server  LOG     JWT Callback - Token: {}
[00:00:16.639] Server  LOG     JWT Callback - User: undefined
[00:00:16.640] Server  LOG     Session Callback - Session: {}
[00:00:16.642] Server  LOG     Session Callback - Token: {}
[00:00:19.246] Server  LOG     JWT Callback - Token: {}
[00:00:19.247] Server  LOG     JWT Callback - User: undefined
[00:00:19.247] Server  LOG     Session Callback - Session: {}
[00:00:19.247] Server  LOG     Session Callback - Token: {}
[00:00:21.195] Server  LOG     [Role Check] Resolved Role: VIEWER
[00:00:21.259] Server  LOG     JWT Callback - Token: {}
[00:00:21.259] Server  LOG     JWT Callback - User: undefined
[00:00:21.260] Server  LOG     Session Callback - Session: {}
[00:00:21.260] Server  LOG     Session Callback - Token: {}
[00:00:21.262] Server  LOG     [Role Check] User: cmictuju30000bc4sqzswqrr8, Project: cmictvb480003bc4sjtzuqwlj
[00:00:22.158] Server  LOG     JWT Callback - Token: {}
[00:00:22.158] Server  LOG     JWT Callback - User: undefined
[00:00:22.159] Server  LOG     Session Callback - Session: {}
[00:00:22.159] Server  LOG     Session Callback - Token: {}
[00:00:22.723] Server  LOG      ✓ Compiled in 203ms
[00:00:22.982] Browser ERROR   ./src/components/kanban/Column.tsx:38:3
Ecmascript file had an error
  36 |   onToggleCollapse,
  37 |   hiddenTasks,
> 38 |   hiddenTasks,
     |   ^^^^^^^^^^^
  39 |   onToggleHide,
  40 |   onToggleGanttVisibility, // New prop
  41 | }: ColumnProps) {

the name `hiddenTasks` is bound more than once in this parameter list

Import trace:
  Client Component Browser:
    ./src/components/kanban/Column.tsx [Client Component Browser]
    ./src/components/kanban/KanbanBoard.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Server Component]
[00:00:24.565] Server  LOG     [Role Check] Resolved Role: VIEWER
[00:00:31.495] Server  LOG      ✓ Compiled in 107ms
[00:00:33.447] Server  LOG     JWT Callback - Token: {}
[00:00:33.448] Server  LOG     JWT Callback - User: undefined
[00:00:33.448] Server  LOG     Session Callback - Session: {}
[00:00:33.448] Server  LOG     Session Callback - Token: {}
[00:00:42.095] Server  LOG     JWT Callback - Token: {}
[00:00:42.098] Server  LOG     JWT Callback - User: undefined
[00:00:42.099] Server  LOG     Session Callback - Session: {}
[00:00:42.099] Server  LOG     Session Callback - Token: {}
[00:00:44.770] Server  LOG     JWT Callback - Token: {}
[00:00:44.770] Server  LOG     JWT Callback - User: undefined
[00:00:44.771] Server  LOG     Session Callback - Session: {}
[00:00:44.771] Server  LOG     Session Callback - Token: {}
[00:00:45.487] Server  LOG     JWT Callback - Token: {}
[00:00:45.491] Server  LOG     JWT Callback - User: undefined
[00:00:45.492] Server  LOG     Session Callback - Session: {}
[00:00:45.492] Server  LOG     Session Callback - Token: {}
[00:00:45.668] Server  LOG      ✓ Compiled in 197ms
[00:03:31.186] Server  LOG     JWT Callback - Token: {}
[00:03:31.188] Server  LOG     JWT Callback - User: undefined
[00:03:31.189] Server  LOG     Session Callback - Session: {}
[00:03:31.215] Server  LOG     Session Callback - Token: {}
[00:06:10.554] Server  LOG     JWT Callback - Token: {}
[00:06:10.554] Server  LOG     JWT Callback - User: undefined
[00:06:10.556] Server  LOG     Session Callback - Session: {}
[00:06:10.586] Server  LOG     Session Callback - Token: {}
[00:06:12.833] Browser INFO    %cDownload the React DevTools for a better development experience: https://react.dev/link/react-devtools font-weight:bold
[00:06:12.966] Server  LOG     JWT Callback - Token: {}
[00:06:12.966] Server  LOG     JWT Callback - User: undefined
[00:06:12.967] Server  LOG     Session Callback - Session: {}
[00:06:12.967] Server  LOG     Session Callback - Token: {}
[00:06:13.774] Server  LOG     JWT Callback - Token: {}
[00:06:13.775] Server  LOG     JWT Callback - User: undefined
[00:06:13.775] Server  LOG     Session Callback - Session: {}
[00:06:13.777] Server  LOG     Session Callback - Token: {}
[00:14:31.094] Server  LOG      ✓ Compiled in 827ms
[00:18:16.635] Server  LOG     JWT Callback - Token: {}
[00:18:16.636] Server  LOG     JWT Callback - User: undefined
[00:18:16.638] Server  LOG     Session Callback - Session: {}
[00:18:16.655] Server  LOG     Session Callback - Token: {}
[00:27:57.826] Server  ERROR    ⨯ ./src/lib/excel.ts:1:1
Module not found: Can't resolve 'xlsx'
> 1 | import * as XLSX from 'xlsx';
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  2 |
  3 | interface ExportTask {
  4 |     id: string;



Import trace:
  Client Component Browser:
    ./src/lib/excel.ts [Client Component Browser]
    ./src/components/kanban/KanbanBoard.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Server Component]

https://nextjs.org/docs/messages/module-not-found


[00:27:57.850] Server  ERROR    ⨯ ./src/lib/excel.ts:1:1
Module not found: Can't resolve 'xlsx'
> 1 | import * as XLSX from 'xlsx';
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  2 |
  3 | interface ExportTask {
  4 |     id: string;



Import trace:
  Client Component Browser:
    ./src/lib/excel.ts [Client Component Browser]
    ./src/components/kanban/KanbanBoard.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Server Component]

https://nextjs.org/docs/messages/module-not-found


[00:27:57.917] Server  ERROR    ⨯ ./src/lib/excel.ts:1:1
Module not found: Can't resolve 'xlsx'
> 1 | import * as XLSX from 'xlsx';
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  2 |
  3 | interface ExportTask {
  4 |     id: string;



Import trace:
  Client Component Browser:
    ./src/lib/excel.ts [Client Component Browser]
    ./src/components/kanban/KanbanBoard.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Server Component]

https://nextjs.org/docs/messages/module-not-found


[00:27:59.000] Server  ERROR    ⨯ ./src/lib/excel.ts:1:1
Module not found: Can't resolve 'xlsx'
> 1 | import * as XLSX from 'xlsx';
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  2 |
  3 | interface ExportTask {
  4 |     id: string;



Import trace:
  Client Component Browser:
    ./src/lib/excel.ts [Client Component Browser]
    ./src/components/kanban/KanbanBoard.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Server Component]

https://nextjs.org/docs/messages/module-not-found


[00:27:59.008] Server  ERROR    ⨯ ./src/lib/excel.ts:1:1
Module not found: Can't resolve 'xlsx'
> 1 | import * as XLSX from 'xlsx';
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  2 |
  3 | interface ExportTask {
  4 |     id: string;



Import trace:
  Client Component Browser:
    ./src/lib/excel.ts [Client Component Browser]
    ./src/components/kanban/KanbanBoard.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Server Component]

https://nextjs.org/docs/messages/module-not-found


[00:27:59.009] Server  ERROR    ⨯ ./src/lib/excel.ts:1:1
Module not found: Can't resolve 'xlsx'
> 1 | import * as XLSX from 'xlsx';
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  2 |
  3 | interface ExportTask {
  4 |     id: string;



Import trace:
  Client Component Browser:
    ./src/lib/excel.ts [Client Component Browser]
    ./src/components/kanban/KanbanBoard.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Server Component]

https://nextjs.org/docs/messages/module-not-found


[00:27:59.012] Server  ERROR    ⨯ ./src/lib/excel.ts:1:1
Module not found: Can't resolve 'xlsx'
> 1 | import * as XLSX from 'xlsx';
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  2 |
  3 | interface ExportTask {
  4 |     id: string;



Import trace:
  Client Component Browser:
    ./src/lib/excel.ts [Client Component Browser]
    ./src/components/kanban/KanbanBoard.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Server Component]

https://nextjs.org/docs/messages/module-not-found


[00:27:59.013] Server  ERROR    ⨯ ./src/lib/excel.ts:1:1
Module not found: Can't resolve 'xlsx'
> 1 | import * as XLSX from 'xlsx';
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  2 |
  3 | interface ExportTask {
  4 |     id: string;



Import trace:
  Client Component Browser:
    ./src/lib/excel.ts [Client Component Browser]
    ./src/components/kanban/KanbanBoard.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Server Component]

https://nextjs.org/docs/messages/module-not-found


[00:27:59.014] Server  ERROR    ⨯ ./src/lib/excel.ts:1:1
Module not found: Can't resolve 'xlsx'
> 1 | import * as XLSX from 'xlsx';
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  2 |
  3 | interface ExportTask {
  4 |     id: string;



Import trace:
  Client Component Browser:
    ./src/lib/excel.ts [Client Component Browser]
    ./src/components/kanban/KanbanBoard.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Server Component]

https://nextjs.org/docs/messages/module-not-found


[00:27:59.029] Server  ERROR    ⨯ ./src/lib/excel.ts:1:1
Module not found: Can't resolve 'xlsx'
> 1 | import * as XLSX from 'xlsx';
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  2 |
  3 | interface ExportTask {
  4 |     id: string;



Import trace:
  Client Component Browser:
    ./src/lib/excel.ts [Client Component Browser]
    ./src/components/kanban/KanbanBoard.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Server Component]

https://nextjs.org/docs/messages/module-not-found


[00:27:59.033] Server  ERROR    ⨯ ./src/lib/excel.ts:1:1
Module not found: Can't resolve 'xlsx'
> 1 | import * as XLSX from 'xlsx';
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  2 |
  3 | interface ExportTask {
  4 |     id: string;



Import trace:
  Client Component Browser:
    ./src/lib/excel.ts [Client Component Browser]
    ./src/components/kanban/KanbanBoard.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Server Component]

https://nextjs.org/docs/messages/module-not-found


[00:27:59.040] Server  ERROR    ⨯ ./src/lib/excel.ts:1:1
Module not found: Can't resolve 'xlsx'
> 1 | import * as XLSX from 'xlsx';
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  2 |
  3 | interface ExportTask {
  4 |     id: string;



Import trace:
  Client Component Browser:
    ./src/lib/excel.ts [Client Component Browser]
    ./src/components/kanban/KanbanBoard.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Server Component]

https://nextjs.org/docs/messages/module-not-found


[00:27:59.041] Server  ERROR    ⨯ ./src/lib/excel.ts:1:1
Module not found: Can't resolve 'xlsx'
> 1 | import * as XLSX from 'xlsx';
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  2 |
  3 | interface ExportTask {
  4 |     id: string;



Import trace:
  Client Component Browser:
    ./src/lib/excel.ts [Client Component Browser]
    ./src/components/kanban/KanbanBoard.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Server Component]

https://nextjs.org/docs/messages/module-not-found


[00:27:59.046] Server  ERROR    ⨯ ./src/lib/excel.ts:1:1
Module not found: Can't resolve 'xlsx'
> 1 | import * as XLSX from 'xlsx';
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  2 |
  3 | interface ExportTask {
  4 |     id: string;



Import trace:
  Client Component Browser:
    ./src/lib/excel.ts [Client Component Browser]
    ./src/components/kanban/KanbanBoard.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Server Component]

https://nextjs.org/docs/messages/module-not-found


[00:27:59.047] Server  ERROR    ⨯ ./src/lib/excel.ts:1:1
Module not found: Can't resolve 'xlsx'
> 1 | import * as XLSX from 'xlsx';
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  2 |
  3 | interface ExportTask {
  4 |     id: string;



Import trace:
  Client Component Browser:
    ./src/lib/excel.ts [Client Component Browser]
    ./src/components/kanban/KanbanBoard.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Server Component]

https://nextjs.org/docs/messages/module-not-found


[00:27:59.048] Server  ERROR    ⨯ ./src/lib/excel.ts:1:1
Module not found: Can't resolve 'xlsx'
> 1 | import * as XLSX from 'xlsx';
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  2 |
  3 | interface ExportTask {
  4 |     id: string;



Import trace:
  Client Component Browser:
    ./src/lib/excel.ts [Client Component Browser]
    ./src/components/kanban/KanbanBoard.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Server Component]

https://nextjs.org/docs/messages/module-not-found


[00:27:59.049] Server  ERROR    ⨯ ./src/lib/excel.ts:1:1
Module not found: Can't resolve 'xlsx'
> 1 | import * as XLSX from 'xlsx';
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  2 |
  3 | interface ExportTask {
  4 |     id: string;



Import trace:
  Client Component Browser:
    ./src/lib/excel.ts [Client Component Browser]
    ./src/components/kanban/KanbanBoard.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Server Component]

https://nextjs.org/docs/messages/module-not-found


[00:27:59.050] Server  ERROR    ⨯ ./src/lib/excel.ts:1:1
Module not found: Can't resolve 'xlsx'
> 1 | import * as XLSX from 'xlsx';
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  2 |
  3 | interface ExportTask {
  4 |     id: string;



Import trace:
  Client Component Browser:
    ./src/lib/excel.ts [Client Component Browser]
    ./src/components/kanban/KanbanBoard.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Server Component]

https://nextjs.org/docs/messages/module-not-found


[00:27:59.645] Browser ERROR   ./src/lib/excel.ts:1:1
Module not found: Can't resolve 'xlsx'
> 1 | import * as XLSX from 'xlsx';
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  2 |
  3 | interface ExportTask {
  4 |     id: string;

Import trace:
  Client Component Browser:
    ./src/lib/excel.ts [Client Component Browser]
    ./src/components/kanban/KanbanBoard.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Server Component]

https://nextjs.org/docs/messages/module-not-found
[00:28:04.633] Browser ERROR   ./src/lib/excel.ts:1:1
Module not found: Can't resolve 'xlsx'
> 1 | import * as XLSX from 'xlsx';
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  2 |
  3 | interface ExportTask {
  4 |     id: string;

Import trace:
  Client Component Browser:
    ./src/lib/excel.ts [Client Component Browser]
    ./src/components/kanban/KanbanBoard.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Server Component]

https://nextjs.org/docs/messages/module-not-found
[00:28:07.634] Browser ERROR   ./src/lib/excel.ts:1:1
Module not found: Can't resolve 'xlsx'
> 1 | import * as XLSX from 'xlsx';
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  2 |
  3 | interface ExportTask {
  4 |     id: string;

Import trace:
  Client Component Browser:
    ./src/lib/excel.ts [Client Component Browser]
    ./src/components/kanban/KanbanBoard.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Server Component]

https://nextjs.org/docs/messages/module-not-found
[00:28:32.866] Server  LOG      ✓ Compiled in 1877ms
[00:35:44.770] Server  LOG     JWT Callback - Token: {}
[00:35:44.771] Server  LOG     JWT Callback - User: undefined
[00:35:44.771] Server  LOG     Session Callback - Session: {}
[00:35:44.771] Server  LOG     Session Callback - Token: {}
[00:35:44.795] Server  LOG     JWT Callback - Token: {}
[00:35:44.795] Server  LOG     JWT Callback - User: undefined
[00:35:44.795] Server  LOG     Session Callback - Session: {}
[00:35:44.795] Server  LOG     Session Callback - Token: {}
[00:44:53.647] Browser ERROR   ./src/components/kanban/KanbanBoard.tsx:863:1
Parsing ecmascript source code failed
   861 |   : null;
   862 |
>  863 | return (
       | ^^^^^^^^
>  864 |   <div>
       | ^^^^^^^
>  865 |     <div className="flex flex-col h-screen">
       | ^^^^^^^
>  866 |       {/* Header - Always visible */}
       | ^^^^^^^
>  867 |       <div className="header">
       | ^^^^^^^
>  868 |         <Link href="/dashboard" className="header-title hover:text-gray-300 transition-colors">
       | ^^^^^^^
>  869 |           {"< Project"}
       | ^^^^^^^
>  870 |         </Link>
       | ^^^^^^^
>  871 |         <div className="flex items-center gap-2">
       | ^^^^^^^
>  872 |           {/* Filter Bar integrated into header */}
       | ^^^^^^^
>  873 |           <div className="mr-4">
       | ^^^^^^^
>  874 |             <FilterBar
       | ^^^^^^^
>  875 |               projectId={projectId}
       | ^^^^^^^
>  876 |               currentUserId={session?.user?.id || ""}
       | ^^^^^^^
>  877 |               activeFilter={activeFilter}
       | ^^^^^^^
>  878 |               onFilterChange={(filter, criteria) => {
       | ^^^^^^^
>  879 |                 setActiveFilter(filter);
       | ^^^^^^^
>  880 |                 setCustomFilterCriteria(criteria || null);
       | ^^^^^^^
>  881 |               }}
       | ^^^^^^^
>  882 |               availableUsers={projectUsers}
       | ^^^^^^^
>  883 |               availableColumns={columns.map(col => ({ id: col.id, name: col.name }))}
       | ^^^^^^^
>  884 |             />
       | ^^^^^^^
>  885 |           </div>
       | ^^^^^^^
>  886 |           {/* Show Archived Tasks Toggle */}
       | ^^^^^^^
>  887 |           <Button
       | ^^^^^^^
>  888 |             onClick={() => setShowArchivedTasks(!showArchivedTasks)}
       | ^^^^^^^
>  889 |             variant="ghost"
       | ^^^^^^^
>  890 |             size="sm"
       | ^^^^^^^
>  891 |             className={`bg-white text-slate-700 hover:bg-slate-100 border border-slate-200 shadow-sm transition-all ${showArchivedTasks ? 'bg-amber-50 text-amber-600 border-amber-200' : ''}`}
       | ^^^^^^^
>  892 |             title={showArchivedTasks ? "Volver a tareas activas" : "Ver tareas archivadas"}
       | ^^^^^^^
>  893 |           >
       | ^^^^^^^
>  894 |             <Archive className="w-4 h-4 mr-2" />
       | ^^^^^^^
>  895 |             {showArchivedTasks ? "Activas" : "Archivadas"}
       | ^^^^^^^
>  896 |           </Button>
       | ^^^^^^^
>  897 |           {/* Show Hidden Tasks Toggle */}
       | ^^^^^^^
>  898 |           <Button
       | ^^^^^^^
>  899 |             onClick={() => setShowHiddenTasks(!showHiddenTasks)}
       | ^^^^^^^
>  900 |             variant="ghost"
       | ^^^^^^^
>  901 |             size="sm"
       | ^^^^^^^
>  902 |             className={`bg-white text-slate-700 hover:bg-slate-100 border border-slate-200 shadow-sm transition-all ${showHiddenTasks ? 'bg-blue-50 text-blue-600 border-blue-200' : ''}`}
       | ^^^^^^^
>  903 |             title={showHiddenTasks ? "Ocultar tareas escondidas" : "Mostrar tareas escondidas"}
       | ^^^^^^^
>  904 |           >
       | ^^^^^^^
>  905 |             {showHiddenTasks ? <Eye className="w-4 h-4 mr-2" /> : <EyeOff className="w-4 h-4 mr-2" />}
       | ^^^^^^^
>  906 |             {showHiddenTasks ? "Ocultar" : "Mostrar"}
       | ^^^^^^^
>  907 |           </Button>
       | ^^^^^^^
>  908 |           <Button
       | ^^^^^^^
>  909 |             onClick={() => setViewMode(viewMode === 'kanban' ? 'gantt' : 'kanban')}
       | ^^^^^^^
>  910 |             variant="ghost"
       | ^^^^^^^
>  911 |             size="sm"
       | ^^^^^^^
>  912 |             className={`${viewMode === 'gantt'
       | ^^^^^^^
>  913 |               ? 'bg-blue-500 text-white hover:bg-blue-600'
       | ^^^^^^^
>  914 |               : 'bg-white text-slate-700 hover:bg-slate-100'
       | ^^^^^^^
>  915 |               } border border-slate-200 shadow-sm transition-all`}
       | ^^^^^^^
>  916 |           >
       | ^^^^^^^
>  917 |             <BarChart3 className="w-4 h-4 mr-2" />
       | ^^^^^^^
>  918 |             {viewMode === 'kanban' ? 'Ganttifícalo' : 'Kanban'}
       | ^^^^^^^
>  919 |           </Button>
       | ^^^^^^^
>  920 |           {viewMode === 'gantt' && (
       | ^^^^^^^
>  921 |             <Button
       | ^^^^^^^
>  922 |               onClick={() => window.print()}
       | ^^^^^^^
>  923 |               variant="ghost"
       | ^^^^^^^
>  924 |               size="sm"
       | ^^^^^^^
>  925 |               className="bg-white text-slate-700 hover:bg-slate-100 border border-slate-200 shadow-sm transition-all"
       | ^^^^^^^
>  926 |               title="Imprimir Gantt a PDF"
       | ^^^^^^^
>  927 |             >
       | ^^^^^^^
>  928 |               <Printer className="w-4 h-4 mr-2" />
       | ^^^^^^^
>  929 |               Imprimir
       | ^^^^^^^
>  930 |             </Button>
       | ^^^^^^^
>  931 |           )}
       | ^^^^^^^
>  932 |           {viewMode === 'gantt' && (
       | ^^^^^^^
>  933 |             <Button
       | ^^^^^^^
>  934 |               onClick={handleExportExcel}
       | ^^^^^^^
>  935 |               variant="ghost"
       | ^^^^^^^
>  936 |               size="sm"
       | ^^^^^^^
>  937 |               className="bg-white text-slate-700 hover:bg-slate-100 border border-slate-200 shadow-sm transition-all"
       | ^^^^^^^
>  938 |               title="Descargar Excel"
       | ^^^^^^^
>  939 |             >
       | ^^^^^^^
>  940 |               <FileSpreadsheet className="w-4 h-4 mr-2" />
       | ^^^^^^^
>  941 |               Excel
       | ^^^^^^^
>  942 |             </Button>
       | ^^^^^^^
>  943 |           )}
       | ^^^^^^^
>  944 |           {can(PERMISSIONS.MANAGE_PROJECT) && (
       | ^^^^^^^
>  945 |             <>
       | ^^^^^^^
>  946 |               <Button
       | ^^^^^^^
>  947 |                 onClick={() => setIsSettingsOpen(true)}
       | ^^^^^^^
>  948 |                 variant="ghost"
       | ^^^^^^^
>  949 |                 size="sm"
       | ^^^^^^^
>  950 |                 className="bg-white text-slate-700 hover:bg-slate-100 border border-slate-200 shadow-sm"
       | ^^^^^^^
>  951 |               >
       | ^^^^^^^
>  952 |                 <Settings className="w-4 h-4 mr-2" />
       | ^^^^^^^
>  953 |                 Settings
       | ^^^^^^^
>  954 |               </Button>
       | ^^^^^^^
>  955 |               {/* Add Column Button - Only for Managers */}
       | ^^^^^^^
>  956 |               {can(PERMISSIONS.MANAGE_PROJECT) && (
       | ^^^^^^^
>  957 |                 <Button onClick={handleAddColumn} className="btn-primary">Add Column</Button>
       | ^^^^^^^
>  958 |               )}
       | ^^^^^^^
>  959 |             </>
       | ^^^^^^^
>  960 |           )}
       | ^^^^^^^
>  961 |         </div>
       | ^^^^^^^
>  962 |       </div>
       | ^^^^^^^
>  963 |
       | ^^^^^^^
>  964 |       {/* Content Area - Show loading only if initial load */}
       | ^^^^^^^
>  965 |       {!fetchedColumns && columns.length === 0 ? (
       | ^^^^^^^
>  966 |         <div className="flex-1 flex items-center justify-center">
       | ^^^^^^^
>  967 |           <div>Loading...</div>
       | ^^^^^^^
>  968 |         </div>
       | ^^^^^^^
>  969 |       ) : (
       | ^^^^^^^
>  970 |         <div className="flex-1 overflow-hidden">
       | ^^^^^^^
>  971 |
       | ^^^^^^^
>  972 |           {/* Conditional View: Kanban or Gantt */}
       | ^^^^^^^
>  973 |           {viewMode === 'kanban' ? (
       | ^^^^^^^
>  974 |             <DndContext
       | ^^^^^^^
>  975 |               sensors={sensors}
       | ^^^^^^^
>  976 |               collisionDetection={pointerWithin}
       | ^^^^^^^
>  977 |               onDragStart={onDragStart}
       | ^^^^^^^
>  978 |               onDragEnd={onDragEnd}
       | ^^^^^^^
>  979 |               onDragOver={onDragOver}
       | ^^^^^^^
>  980 |             >
       | ^^^^^^^
>  981 |               <div className="h-full overflow-x-auto overflow-y-hidden px-8 pt-8 pb-10 bg-neutral-50">
       | ^^^^^^^
>  982 |                 <SortableContext items={columnsId}>
       | ^^^^^^^
>  983 |                   <div className="flex gap-4 h-full">
       | ^^^^^^^
>  984 |                     {columns.map((col) => {
       | ^^^^^^^
>  985 |                       // Filter tasks for this column
       | ^^^^^^^
>  986 |                       const columnTasks = visibleTasks
       | ^^^^^^^
>  987 |                         .filter(task => task.columnId === col.id && filteredTaskIds.has(task.id))
       | ^^^^^^^
>  988 |                         .sort((a, b) => a.order - b.order);
       | ^^^^^^^
>  989 |
       | ^^^^^^^
>  990 |                       return (
       | ^^^^^^^
>  991 |                         <Column
       | ^^^^^^^
>  992 |                           key={col.id}
       | ^^^^^^^
>  993 |                           id={col.id}
       | ^^^^^^^
>  994 |                           title={col.name}
       | ^^^^^^^
>  995 |                           color={col.color}
       | ^^^^^^^
>  996 |                           cardColor={col.cardColor}
       | ^^^^^^^
>  997 |                           tasks={columnTasks}
       | ^^^^^^^
>  998 |                           onEditName={handleEditColumnName}
       | ^^^^^^^
>  999 |                           onDelete={handleDeleteColumn}
       | ^^^^^^^
> 1000 |                           onCreateTask={handleCreateTask}
       | ^^^^^^^
> 1001 |                           onTaskClick={handleTaskClick}
       | ^^^^^^^
> 1002 |                           onColorChange={handleColorChange}
       | ^^^^^^^
> 1003 |                           onProgressChange={handleProgressChange} // Pass handler
       | ^^^^^^^
> 1004 |                           collapsedTasks={collapsedTasks}
       | ^^^^^^^
> 1005 |                           onToggleCollapse={toggleTaskCollapse}
       | ^^^^^^^
> 1006 |                           onToggleHide={toggleTaskHide}
       | ^^^^^^^
> 1007 |                           hiddenTasks={hiddenTasks}
       | ^^^^^^^
> 1008 |                           onToggleGanttVisibility={handleToggleGanttVisibility} // New prop
       | ^^^^^^^
> 1009 |                         />
       | ^^^^^^^
> 1010 |                       );
       | ^^^^^^^
> 1011 |                     })}
       | ^^^^^^^
> 1012 |                   </div>
       | ^^^^^^^
> 1013 |                 </SortableContext>
       | ^^^^^^^
> 1014 |               </div>
       | ^^^^^^^
> 1015 |               {createPortal(
       | ^^^^^^^
> 1016 |                 <DragOverlay>
       | ^^^^^^^
> 1017 |                   {activeItem && activeItem.data.current?.type === "Task" && activeTaskContent ? (
       | ^^^^^^^
> 1018 |                     <Task
       | ^^^^^^^
> 1019 |                       id={activeTaskContent.id}
       | ^^^^^^^
> 1020 |                       title={activeTaskContent.title} // Pass title here
       | ^^^^^^^
> 1021 |                       subtasksCount={activeTaskContent.children?.length || 0}
       | ^^^^^^^
> 1022 |                     />
       | ^^^^^^^
> 1023 |                   ) : null}
       | ^^^^^^^
> 1024 |                   {activeItem && activeItem.data.current?.type === "Column" ? (
       | ^^^^^^^
> 1025 |                     <div className="column dragging">
       | ^^^^^^^
> 1026 |                       <h2 className="column-title">{findColumn(activeItem.id.toString())?.name}</h2>
       | ^^^^^^^
> 1027 |                       {/* Optionally render tasks in the dragged column */}
       | ^^^^^^^
> 1028 |                     </div>
       | ^^^^^^^
> 1029 |                   ) : null}
       | ^^^^^^^
> 1030 |                 </DragOverlay>,
       | ^^^^^^^
> 1031 |                 document.body
       | ^^^^^^^
> 1032 |               )}
       | ^^^^^^^
> 1033 |             </DndContext>
       | ^^^^^^^
> 1034 |           ) : (
       | ^^^^^^^
> 1035 |             <div className="h-full px-8 pt-8 pb-10 gantt-print-container">
       | ^^^^^^^
> 1036 |               <GanttChart
       | ^^^^^^^
> 1037 |                 tasks={filteredTasks}
       | ^^^^^^^
> 1038 |                 columns={columns}
       | ^^^^^^^
> 1039 |                 onTaskClick={handleTaskClick}
       | ^^^^^^^
> 1040 |                 onTaskUpdate={mutate}
       | ^^^^^^^
> 1041 |               />
       | ^^^^^^^
> 1042 |             </div>
       | ^^^^^^^
> 1043 |           )}
       | ^^^^^^^
> 1044 |         </div>
       | ^^^^^^^
> 1045 |       )}
       | ^^^^^^^
> 1046 |     </div>
       | ^^^^^^^
> 1047 |     {/* Project Settings Modal */}
       | ^^^^^^^
> 1048 |     {isSettingsOpen && createPortal(
       | ^^^^^^^
> 1049 |       <div className="fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm">
       | ^^^^^^^
> 1050 |         <div className="bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto relative">
       | ^^^^^^^
> 1051 |           <button
       | ^^^^^^^
> 1052 |             onClick={() => setIsSettingsOpen(false)}
       | ^^^^^^^
> 1053 |             className="absolute top-4 right-4 text-gray-500 hover:text-gray-700"
       | ^^^^^^^
> 1054 |           >
       | ^^^^^^^
> 1055 |             <X size={24} />
       | ^^^^^^^
> 1056 |           </button>
       | ^^^^^^^
> 1057 |           <div className="p-6">
       | ^^^^^^^
> 1058 |             <ProjectSettings projectId={projectId} />
       | ^^^^^^^
> 1059 |           </div>
       | ^^^^^^^
> 1060 |         </div>
       | ^^^^^^^
> 1061 |       </div>,
       | ^^^^^^^
> 1062 |       document.body
       | ^^^^^^^
> 1063 |     )}
       | ^^^^^^^
> 1064 |
       | ^^^^^^^
> 1065 |     {selectedTask && isModalOpen && (
       | ^^^^^^^
> 1066 |       <TaskDetailModal
       | ^^^^^^^
> 1067 |         key={selectedTask.id}
       | ^^^^^^^
> 1068 |         task={selectedTask}
       | ^^^^^^^
> 1069 |         onClose={handleCloseModal}
       | ^^^^^^^
> 1070 |         onTaskUpdate={handleTaskUpdate}
       | ^^^^^^^
> 1071 |         availableUsers={projectUsers}
       | ^^^^^^^
> 1072 |       />
       | ^^^^^^^
> 1073 |     )}
       | ^^^^^^^
> 1074 |   </div>
       | ^^^^^^^
> 1075 | );
       | ^^^
  1076 | }

Return statement is not allowed here

Import trace:
  Client Component Browser:
    ./src/components/kanban/KanbanBoard.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Server Component]
[00:45:09.636] Browser ERROR   ./src/components/kanban/KanbanBoard.tsx:301:8
Parsing ecmascript source code failed
  299 |       } else {
  300 |         newSet.add(taskId);
> 301 |       });
      |        ^
  302 |   };
  303 |
  304 |   // Memoize task map for O(1) lookup

Expression expected

Import trace:
  Client Component Browser:
    ./src/components/kanban/KanbanBoard.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Server Component]
[00:45:09.636] Browser ERROR   ./src/components/kanban/KanbanBoard.tsx:863:1
Parsing ecmascript source code failed
   861 |   : null;
   862 |
>  863 | return (
       | ^^^^^^^^
>  864 |   <div>
       | ^^^^^^^
>  865 |     <div className="flex flex-col h-screen">
       | ^^^^^^^
>  866 |       {/* Header - Always visible */}
       | ^^^^^^^
>  867 |       <div className="header">
       | ^^^^^^^
>  868 |         <Link href="/dashboard" className="header-title hover:text-gray-300 transition-colors">
       | ^^^^^^^
>  869 |           {"< Project"}
       | ^^^^^^^
>  870 |         </Link>
       | ^^^^^^^
>  871 |         <div className="flex items-center gap-2">
       | ^^^^^^^
>  872 |           {/* Filter Bar integrated into header */}
       | ^^^^^^^
>  873 |           <div className="mr-4">
       | ^^^^^^^
>  874 |             <FilterBar
       | ^^^^^^^
>  875 |               projectId={projectId}
       | ^^^^^^^
>  876 |               currentUserId={session?.user?.id || ""}
       | ^^^^^^^
>  877 |               activeFilter={activeFilter}
       | ^^^^^^^
>  878 |               onFilterChange={(filter, criteria) => {
       | ^^^^^^^
>  879 |                 setActiveFilter(filter);
       | ^^^^^^^
>  880 |                 setCustomFilterCriteria(criteria || null);
       | ^^^^^^^
>  881 |               }}
       | ^^^^^^^
>  882 |               availableUsers={projectUsers}
       | ^^^^^^^
>  883 |               availableColumns={columns.map(col => ({ id: col.id, name: col.name }))}
       | ^^^^^^^
>  884 |             />
       | ^^^^^^^
>  885 |           </div>
       | ^^^^^^^
>  886 |           {/* Show Archived Tasks Toggle */}
       | ^^^^^^^
>  887 |           <Button
       | ^^^^^^^
>  888 |             onClick={() => setShowArchivedTasks(!showArchivedTasks)}
       | ^^^^^^^
>  889 |             variant="ghost"
       | ^^^^^^^
>  890 |             size="sm"
       | ^^^^^^^
>  891 |             className={`bg-white text-slate-700 hover:bg-slate-100 border border-slate-200 shadow-sm transition-all ${showArchivedTasks ? 'bg-amber-50 text-amber-600 border-amber-200' : ''}`}
       | ^^^^^^^
>  892 |             title={showArchivedTasks ? "Volver a tareas activas" : "Ver tareas archivadas"}
       | ^^^^^^^
>  893 |           >
       | ^^^^^^^
>  894 |             <Archive className="w-4 h-4 mr-2" />
       | ^^^^^^^
>  895 |             {showArchivedTasks ? "Activas" : "Archivadas"}
       | ^^^^^^^
>  896 |           </Button>
       | ^^^^^^^
>  897 |           {/* Show Hidden Tasks Toggle */}
       | ^^^^^^^
>  898 |           <Button
       | ^^^^^^^
>  899 |             onClick={() => setShowHiddenTasks(!showHiddenTasks)}
       | ^^^^^^^
>  900 |             variant="ghost"
       | ^^^^^^^
>  901 |             size="sm"
       | ^^^^^^^
>  902 |             className={`bg-white text-slate-700 hover:bg-slate-100 border border-slate-200 shadow-sm transition-all ${showHiddenTasks ? 'bg-blue-50 text-blue-600 border-blue-200' : ''}`}
       | ^^^^^^^
>  903 |             title={showHiddenTasks ? "Ocultar tareas escondidas" : "Mostrar tareas escondidas"}
       | ^^^^^^^
>  904 |           >
       | ^^^^^^^
>  905 |             {showHiddenTasks ? <Eye className="w-4 h-4 mr-2" /> : <EyeOff className="w-4 h-4 mr-2" />}
       | ^^^^^^^
>  906 |             {showHiddenTasks ? "Ocultar" : "Mostrar"}
       | ^^^^^^^
>  907 |           </Button>
       | ^^^^^^^
>  908 |           <Button
       | ^^^^^^^
>  909 |             onClick={() => setViewMode(viewMode === 'kanban' ? 'gantt' : 'kanban')}
       | ^^^^^^^
>  910 |             variant="ghost"
       | ^^^^^^^
>  911 |             size="sm"
       | ^^^^^^^
>  912 |             className={`${viewMode === 'gantt'
       | ^^^^^^^
>  913 |               ? 'bg-blue-500 text-white hover:bg-blue-600'
       | ^^^^^^^
>  914 |               : 'bg-white text-slate-700 hover:bg-slate-100'
       | ^^^^^^^
>  915 |               } border border-slate-200 shadow-sm transition-all`}
       | ^^^^^^^
>  916 |           >
       | ^^^^^^^
>  917 |             <BarChart3 className="w-4 h-4 mr-2" />
       | ^^^^^^^
>  918 |             {viewMode === 'kanban' ? 'Ganttifícalo' : 'Kanban'}
       | ^^^^^^^
>  919 |           </Button>
       | ^^^^^^^
>  920 |           {viewMode === 'gantt' && (
       | ^^^^^^^
>  921 |             <Button
       | ^^^^^^^
>  922 |               onClick={() => window.print()}
       | ^^^^^^^
>  923 |               variant="ghost"
       | ^^^^^^^
>  924 |               size="sm"
       | ^^^^^^^
>  925 |               className="bg-white text-slate-700 hover:bg-slate-100 border border-slate-200 shadow-sm transition-all"
       | ^^^^^^^
>  926 |               title="Imprimir Gantt a PDF"
       | ^^^^^^^
>  927 |             >
       | ^^^^^^^
>  928 |               <Printer className="w-4 h-4 mr-2" />
       | ^^^^^^^
>  929 |               Imprimir
       | ^^^^^^^
>  930 |             </Button>
       | ^^^^^^^
>  931 |           )}
       | ^^^^^^^
>  932 |           {viewMode === 'gantt' && (
       | ^^^^^^^
>  933 |             <Button
       | ^^^^^^^
>  934 |               onClick={handleExportExcel}
       | ^^^^^^^
>  935 |               variant="ghost"
       | ^^^^^^^
>  936 |               size="sm"
       | ^^^^^^^
>  937 |               className="bg-white text-slate-700 hover:bg-slate-100 border border-slate-200 shadow-sm transition-all"
       | ^^^^^^^
>  938 |               title="Descargar Excel"
       | ^^^^^^^
>  939 |             >
       | ^^^^^^^
>  940 |               <FileSpreadsheet className="w-4 h-4 mr-2" />
       | ^^^^^^^
>  941 |               Excel
       | ^^^^^^^
>  942 |             </Button>
       | ^^^^^^^
>  943 |           )}
       | ^^^^^^^
>  944 |           {can(PERMISSIONS.MANAGE_PROJECT) && (
       | ^^^^^^^
>  945 |             <>
       | ^^^^^^^
>  946 |               <Button
       | ^^^^^^^
>  947 |                 onClick={() => setIsSettingsOpen(true)}
       | ^^^^^^^
>  948 |                 variant="ghost"
       | ^^^^^^^
>  949 |                 size="sm"
       | ^^^^^^^
>  950 |                 className="bg-white text-slate-700 hover:bg-slate-100 border border-slate-200 shadow-sm"
       | ^^^^^^^
>  951 |               >
       | ^^^^^^^
>  952 |                 <Settings className="w-4 h-4 mr-2" />
       | ^^^^^^^
>  953 |                 Settings
       | ^^^^^^^
>  954 |               </Button>
       | ^^^^^^^
>  955 |               {/* Add Column Button - Only for Managers */}
       | ^^^^^^^
>  956 |               {can(PERMISSIONS.MANAGE_PROJECT) && (
       | ^^^^^^^
>  957 |                 <Button onClick={handleAddColumn} className="btn-primary">Add Column</Button>
       | ^^^^^^^
>  958 |               )}
       | ^^^^^^^
>  959 |             </>
       | ^^^^^^^
>  960 |           )}
       | ^^^^^^^
>  961 |         </div>
       | ^^^^^^^
>  962 |       </div>
       | ^^^^^^^
>  963 |
       | ^^^^^^^
>  964 |       {/* Content Area - Show loading only if initial load */}
       | ^^^^^^^
>  965 |       {!fetchedColumns && columns.length === 0 ? (
       | ^^^^^^^
>  966 |         <div className="flex-1 flex items-center justify-center">
       | ^^^^^^^
>  967 |           <div>Loading...</div>
       | ^^^^^^^
>  968 |         </div>
       | ^^^^^^^
>  969 |       ) : (
       | ^^^^^^^
>  970 |         <div className="flex-1 overflow-hidden">
       | ^^^^^^^
>  971 |
       | ^^^^^^^
>  972 |           {/* Conditional View: Kanban or Gantt */}
       | ^^^^^^^
>  973 |           {viewMode === 'kanban' ? (
       | ^^^^^^^
>  974 |             <DndContext
       | ^^^^^^^
>  975 |               sensors={sensors}
       | ^^^^^^^
>  976 |               collisionDetection={pointerWithin}
       | ^^^^^^^
>  977 |               onDragStart={onDragStart}
       | ^^^^^^^
>  978 |               onDragEnd={onDragEnd}
       | ^^^^^^^
>  979 |               onDragOver={onDragOver}
       | ^^^^^^^
>  980 |             >
       | ^^^^^^^
>  981 |               <div className="h-full overflow-x-auto overflow-y-hidden px-8 pt-8 pb-10 bg-neutral-50">
       | ^^^^^^^
>  982 |                 <SortableContext items={columnsId}>
       | ^^^^^^^
>  983 |                   <div className="flex gap-4 h-full">
       | ^^^^^^^
>  984 |                     {columns.map((col) => {
       | ^^^^^^^
>  985 |                       // Filter tasks for this column
       | ^^^^^^^
>  986 |                       const columnTasks = visibleTasks
       | ^^^^^^^
>  987 |                         .filter(task => task.columnId === col.id && filteredTaskIds.has(task.id))
       | ^^^^^^^
>  988 |                         .sort((a, b) => a.order - b.order);
       | ^^^^^^^
>  989 |
       | ^^^^^^^
>  990 |                       return (
       | ^^^^^^^
>  991 |                         <Column
       | ^^^^^^^
>  992 |                           key={col.id}
       | ^^^^^^^
>  993 |                           id={col.id}
       | ^^^^^^^
>  994 |                           title={col.name}
       | ^^^^^^^
>  995 |                           color={col.color}
       | ^^^^^^^
>  996 |                           cardColor={col.cardColor}
       | ^^^^^^^
>  997 |                           tasks={columnTasks}
       | ^^^^^^^
>  998 |                           onEditName={handleEditColumnName}
       | ^^^^^^^
>  999 |                           onDelete={handleDeleteColumn}
       | ^^^^^^^
> 1000 |                           onCreateTask={handleCreateTask}
       | ^^^^^^^
> 1001 |                           onTaskClick={handleTaskClick}
       | ^^^^^^^
> 1002 |                           onColorChange={handleColorChange}
       | ^^^^^^^
> 1003 |                           onProgressChange={handleProgressChange} // Pass handler
       | ^^^^^^^
> 1004 |                           collapsedTasks={collapsedTasks}
       | ^^^^^^^
> 1005 |                           onToggleCollapse={toggleTaskCollapse}
       | ^^^^^^^
> 1006 |                           onToggleHide={toggleTaskHide}
       | ^^^^^^^
> 1007 |                           hiddenTasks={hiddenTasks}
       | ^^^^^^^
> 1008 |                           onToggleGanttVisibility={handleToggleGanttVisibility} // New prop
       | ^^^^^^^
> 1009 |                         />
       | ^^^^^^^
> 1010 |                       );
       | ^^^^^^^
> 1011 |                     })}
       | ^^^^^^^
> 1012 |                   </div>
       | ^^^^^^^
> 1013 |                 </SortableContext>
       | ^^^^^^^
> 1014 |               </div>
       | ^^^^^^^
> 1015 |               {createPortal(
       | ^^^^^^^
> 1016 |                 <DragOverlay>
       | ^^^^^^^
> 1017 |                   {activeItem && activeItem.data.current?.type === "Task" && activeTaskContent ? (
       | ^^^^^^^
> 1018 |                     <Task
       | ^^^^^^^
> 1019 |                       id={activeTaskContent.id}
       | ^^^^^^^
> 1020 |                       title={activeTaskContent.title} // Pass title here
       | ^^^^^^^
> 1021 |                       subtasksCount={activeTaskContent.children?.length || 0}
       | ^^^^^^^
> 1022 |                     />
       | ^^^^^^^
> 1023 |                   ) : null}
       | ^^^^^^^
> 1024 |                   {activeItem && activeItem.data.current?.type === "Column" ? (
       | ^^^^^^^
> 1025 |                     <div className="column dragging">
       | ^^^^^^^
> 1026 |                       <h2 className="column-title">{findColumn(activeItem.id.toString())?.name}</h2>
       | ^^^^^^^
> 1027 |                       {/* Optionally render tasks in the dragged column */}
       | ^^^^^^^
> 1028 |                     </div>
       | ^^^^^^^
> 1029 |                   ) : null}
       | ^^^^^^^
> 1030 |                 </DragOverlay>,
       | ^^^^^^^
> 1031 |                 document.body
       | ^^^^^^^
> 1032 |               )}
       | ^^^^^^^
> 1033 |             </DndContext>
       | ^^^^^^^
> 1034 |           ) : (
       | ^^^^^^^
> 1035 |             <div className="h-full px-8 pt-8 pb-10 gantt-print-container">
       | ^^^^^^^
> 1036 |               <GanttChart
       | ^^^^^^^
> 1037 |                 tasks={filteredTasks}
       | ^^^^^^^
> 1038 |                 columns={columns}
       | ^^^^^^^
> 1039 |                 onTaskClick={handleTaskClick}
       | ^^^^^^^
> 1040 |                 onTaskUpdate={mutate}
       | ^^^^^^^
> 1041 |               />
       | ^^^^^^^
> 1042 |             </div>
       | ^^^^^^^
> 1043 |           )}
       | ^^^^^^^
> 1044 |         </div>
       | ^^^^^^^
> 1045 |       )}
       | ^^^^^^^
> 1046 |     </div>
       | ^^^^^^^
> 1047 |     {/* Project Settings Modal */}
       | ^^^^^^^
> 1048 |     {isSettingsOpen && createPortal(
       | ^^^^^^^
> 1049 |       <div className="fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm">
       | ^^^^^^^
> 1050 |         <div className="bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto relative">
       | ^^^^^^^
> 1051 |           <button
       | ^^^^^^^
> 1052 |             onClick={() => setIsSettingsOpen(false)}
       | ^^^^^^^
> 1053 |             className="absolute top-4 right-4 text-gray-500 hover:text-gray-700"
       | ^^^^^^^
> 1054 |           >
       | ^^^^^^^
> 1055 |             <X size={24} />
       | ^^^^^^^
> 1056 |           </button>
       | ^^^^^^^
> 1057 |           <div className="p-6">
       | ^^^^^^^
> 1058 |             <ProjectSettings projectId={projectId} />
       | ^^^^^^^
> 1059 |           </div>
       | ^^^^^^^
> 1060 |         </div>
       | ^^^^^^^
> 1061 |       </div>,
       | ^^^^^^^
> 1062 |       document.body
       | ^^^^^^^
> 1063 |     )}
       | ^^^^^^^
> 1064 |
       | ^^^^^^^
> 1065 |     {selectedTask && isModalOpen && (
       | ^^^^^^^
> 1066 |       <TaskDetailModal
       | ^^^^^^^
> 1067 |         key={selectedTask.id}
       | ^^^^^^^
> 1068 |         task={selectedTask}
       | ^^^^^^^
> 1069 |         onClose={handleCloseModal}
       | ^^^^^^^
> 1070 |         onTaskUpdate={handleTaskUpdate}
       | ^^^^^^^
> 1071 |         availableUsers={projectUsers}
       | ^^^^^^^
> 1072 |       />
       | ^^^^^^^
> 1073 |     )}
       | ^^^^^^^
> 1074 |   </div>
       | ^^^^^^^
> 1075 | );
       | ^^^
  1076 | }

Return statement is not allowed here

Import trace:
  Client Component Browser:
    ./src/components/kanban/KanbanBoard.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Server Component]
[00:45:26.235] Browser ERROR   ./src/components/kanban/KanbanBoard.tsx:862:1
Parsing ecmascript source code failed
   860 |   : null;
   861 |
>  862 | return (
       | ^^^^^^^^
>  863 |   <div>
       | ^^^^^^^
>  864 |     <div className="flex flex-col h-screen">
       | ^^^^^^^
>  865 |       {/* Header - Always visible */}
       | ^^^^^^^
>  866 |       <div className="header">
       | ^^^^^^^
>  867 |         <Link href="/dashboard" className="header-title hover:text-gray-300 transition-colors">
       | ^^^^^^^
>  868 |           {"< Project"}
       | ^^^^^^^
>  869 |         </Link>
       | ^^^^^^^
>  870 |         <div className="flex items-center gap-2">
       | ^^^^^^^
>  871 |           {/* Filter Bar integrated into header */}
       | ^^^^^^^
>  872 |           <div className="mr-4">
       | ^^^^^^^
>  873 |             <FilterBar
       | ^^^^^^^
>  874 |               projectId={projectId}
       | ^^^^^^^
>  875 |               currentUserId={session?.user?.id || ""}
       | ^^^^^^^
>  876 |               activeFilter={activeFilter}
       | ^^^^^^^
>  877 |               onFilterChange={(filter, criteria) => {
       | ^^^^^^^
>  878 |                 setActiveFilter(filter);
       | ^^^^^^^
>  879 |                 setCustomFilterCriteria(criteria || null);
       | ^^^^^^^
>  880 |               }}
       | ^^^^^^^
>  881 |               availableUsers={projectUsers}
       | ^^^^^^^
>  882 |               availableColumns={columns.map(col => ({ id: col.id, name: col.name }))}
       | ^^^^^^^
>  883 |             />
       | ^^^^^^^
>  884 |           </div>
       | ^^^^^^^
>  885 |           {/* Show Archived Tasks Toggle */}
       | ^^^^^^^
>  886 |           <Button
       | ^^^^^^^
>  887 |             onClick={() => setShowArchivedTasks(!showArchivedTasks)}
       | ^^^^^^^
>  888 |             variant="ghost"
       | ^^^^^^^
>  889 |             size="sm"
       | ^^^^^^^
>  890 |             className={`bg-white text-slate-700 hover:bg-slate-100 border border-slate-200 shadow-sm transition-all ${showArchivedTasks ? 'bg-amber-50 text-amber-600 border-amber-200' : ''}`}
       | ^^^^^^^
>  891 |             title={showArchivedTasks ? "Volver a tareas activas" : "Ver tareas archivadas"}
       | ^^^^^^^
>  892 |           >
       | ^^^^^^^
>  893 |             <Archive className="w-4 h-4 mr-2" />
       | ^^^^^^^
>  894 |             {showArchivedTasks ? "Activas" : "Archivadas"}
       | ^^^^^^^
>  895 |           </Button>
       | ^^^^^^^
>  896 |           {/* Show Hidden Tasks Toggle */}
       | ^^^^^^^
>  897 |           <Button
       | ^^^^^^^
>  898 |             onClick={() => setShowHiddenTasks(!showHiddenTasks)}
       | ^^^^^^^
>  899 |             variant="ghost"
       | ^^^^^^^
>  900 |             size="sm"
       | ^^^^^^^
>  901 |             className={`bg-white text-slate-700 hover:bg-slate-100 border border-slate-200 shadow-sm transition-all ${showHiddenTasks ? 'bg-blue-50 text-blue-600 border-blue-200' : ''}`}
       | ^^^^^^^
>  902 |             title={showHiddenTasks ? "Ocultar tareas escondidas" : "Mostrar tareas escondidas"}
       | ^^^^^^^
>  903 |           >
       | ^^^^^^^
>  904 |             {showHiddenTasks ? <Eye className="w-4 h-4 mr-2" /> : <EyeOff className="w-4 h-4 mr-2" />}
       | ^^^^^^^
>  905 |             {showHiddenTasks ? "Ocultar" : "Mostrar"}
       | ^^^^^^^
>  906 |           </Button>
       | ^^^^^^^
>  907 |           <Button
       | ^^^^^^^
>  908 |             onClick={() => setViewMode(viewMode === 'kanban' ? 'gantt' : 'kanban')}
       | ^^^^^^^
>  909 |             variant="ghost"
       | ^^^^^^^
>  910 |             size="sm"
       | ^^^^^^^
>  911 |             className={`${viewMode === 'gantt'
       | ^^^^^^^
>  912 |               ? 'bg-blue-500 text-white hover:bg-blue-600'
       | ^^^^^^^
>  913 |               : 'bg-white text-slate-700 hover:bg-slate-100'
       | ^^^^^^^
>  914 |               } border border-slate-200 shadow-sm transition-all`}
       | ^^^^^^^
>  915 |           >
       | ^^^^^^^
>  916 |             <BarChart3 className="w-4 h-4 mr-2" />
       | ^^^^^^^
>  917 |             {viewMode === 'kanban' ? 'Ganttifícalo' : 'Kanban'}
       | ^^^^^^^
>  918 |           </Button>
       | ^^^^^^^
>  919 |           {viewMode === 'gantt' && (
       | ^^^^^^^
>  920 |             <Button
       | ^^^^^^^
>  921 |               onClick={() => window.print()}
       | ^^^^^^^
>  922 |               variant="ghost"
       | ^^^^^^^
>  923 |               size="sm"
       | ^^^^^^^
>  924 |               className="bg-white text-slate-700 hover:bg-slate-100 border border-slate-200 shadow-sm transition-all"
       | ^^^^^^^
>  925 |               title="Imprimir Gantt a PDF"
       | ^^^^^^^
>  926 |             >
       | ^^^^^^^
>  927 |               <Printer className="w-4 h-4 mr-2" />
       | ^^^^^^^
>  928 |               Imprimir
       | ^^^^^^^
>  929 |             </Button>
       | ^^^^^^^
>  930 |           )}
       | ^^^^^^^
>  931 |           {viewMode === 'gantt' && (
       | ^^^^^^^
>  932 |             <Button
       | ^^^^^^^
>  933 |               onClick={handleExportExcel}
       | ^^^^^^^
>  934 |               variant="ghost"
       | ^^^^^^^
>  935 |               size="sm"
       | ^^^^^^^
>  936 |               className="bg-white text-slate-700 hover:bg-slate-100 border border-slate-200 shadow-sm transition-all"
       | ^^^^^^^
>  937 |               title="Descargar Excel"
       | ^^^^^^^
>  938 |             >
       | ^^^^^^^
>  939 |               <FileSpreadsheet className="w-4 h-4 mr-2" />
       | ^^^^^^^
>  940 |               Excel
       | ^^^^^^^
>  941 |             </Button>
       | ^^^^^^^
>  942 |           )}
       | ^^^^^^^
>  943 |           {can(PERMISSIONS.MANAGE_PROJECT) && (
       | ^^^^^^^
>  944 |             <>
       | ^^^^^^^
>  945 |               <Button
       | ^^^^^^^
>  946 |                 onClick={() => setIsSettingsOpen(true)}
       | ^^^^^^^
>  947 |                 variant="ghost"
       | ^^^^^^^
>  948 |                 size="sm"
       | ^^^^^^^
>  949 |                 className="bg-white text-slate-700 hover:bg-slate-100 border border-slate-200 shadow-sm"
       | ^^^^^^^
>  950 |               >
       | ^^^^^^^
>  951 |                 <Settings className="w-4 h-4 mr-2" />
       | ^^^^^^^
>  952 |                 Settings
       | ^^^^^^^
>  953 |               </Button>
       | ^^^^^^^
>  954 |               {/* Add Column Button - Only for Managers */}
       | ^^^^^^^
>  955 |               {can(PERMISSIONS.MANAGE_PROJECT) && (
       | ^^^^^^^
>  956 |                 <Button onClick={handleAddColumn} className="btn-primary">Add Column</Button>
       | ^^^^^^^
>  957 |               )}
       | ^^^^^^^
>  958 |             </>
       | ^^^^^^^
>  959 |           )}
       | ^^^^^^^
>  960 |         </div>
       | ^^^^^^^
>  961 |       </div>
       | ^^^^^^^
>  962 |
       | ^^^^^^^
>  963 |       {/* Content Area - Show loading only if initial load */}
       | ^^^^^^^
>  964 |       {!fetchedColumns && columns.length === 0 ? (
       | ^^^^^^^
>  965 |         <div className="flex-1 flex items-center justify-center">
       | ^^^^^^^
>  966 |           <div>Loading...</div>
       | ^^^^^^^
>  967 |         </div>
       | ^^^^^^^
>  968 |       ) : (
       | ^^^^^^^
>  969 |         <div className="flex-1 overflow-hidden">
       | ^^^^^^^
>  970 |
       | ^^^^^^^
>  971 |           {/* Conditional View: Kanban or Gantt */}
       | ^^^^^^^
>  972 |           {viewMode === 'kanban' ? (
       | ^^^^^^^
>  973 |             <DndContext
       | ^^^^^^^
>  974 |               sensors={sensors}
       | ^^^^^^^
>  975 |               collisionDetection={pointerWithin}
       | ^^^^^^^
>  976 |               onDragStart={onDragStart}
       | ^^^^^^^
>  977 |               onDragEnd={onDragEnd}
       | ^^^^^^^
>  978 |               onDragOver={onDragOver}
       | ^^^^^^^
>  979 |             >
       | ^^^^^^^
>  980 |               <div className="h-full overflow-x-auto overflow-y-hidden px-8 pt-8 pb-10 bg-neutral-50">
       | ^^^^^^^
>  981 |                 <SortableContext items={columnsId}>
       | ^^^^^^^
>  982 |                   <div className="flex gap-4 h-full">
       | ^^^^^^^
>  983 |                     {columns.map((col) => {
       | ^^^^^^^
>  984 |                       // Filter tasks for this column
       | ^^^^^^^
>  985 |                       const columnTasks = visibleTasks
       | ^^^^^^^
>  986 |                         .filter(task => task.columnId === col.id && filteredTaskIds.has(task.id))
       | ^^^^^^^
>  987 |                         .sort((a, b) => a.order - b.order);
       | ^^^^^^^
>  988 |
       | ^^^^^^^
>  989 |                       return (
       | ^^^^^^^
>  990 |                         <Column
       | ^^^^^^^
>  991 |                           key={col.id}
       | ^^^^^^^
>  992 |                           id={col.id}
       | ^^^^^^^
>  993 |                           title={col.name}
       | ^^^^^^^
>  994 |                           color={col.color}
       | ^^^^^^^
>  995 |                           cardColor={col.cardColor}
       | ^^^^^^^
>  996 |                           tasks={columnTasks}
       | ^^^^^^^
>  997 |                           onEditName={handleEditColumnName}
       | ^^^^^^^
>  998 |                           onDelete={handleDeleteColumn}
       | ^^^^^^^
>  999 |                           onCreateTask={handleCreateTask}
       | ^^^^^^^
> 1000 |                           onTaskClick={handleTaskClick}
       | ^^^^^^^
> 1001 |                           onColorChange={handleColorChange}
       | ^^^^^^^
> 1002 |                           onProgressChange={handleProgressChange} // Pass handler
       | ^^^^^^^
> 1003 |                           collapsedTasks={collapsedTasks}
       | ^^^^^^^
> 1004 |                           onToggleCollapse={toggleTaskCollapse}
       | ^^^^^^^
> 1005 |                           onToggleHide={toggleTaskHide}
       | ^^^^^^^
> 1006 |                           hiddenTasks={hiddenTasks}
       | ^^^^^^^
> 1007 |                           onToggleGanttVisibility={handleToggleGanttVisibility} // New prop
       | ^^^^^^^
> 1008 |                         />
       | ^^^^^^^
> 1009 |                       );
       | ^^^^^^^
> 1010 |                     })}
       | ^^^^^^^
> 1011 |                   </div>
       | ^^^^^^^
> 1012 |                 </SortableContext>
       | ^^^^^^^
> 1013 |               </div>
       | ^^^^^^^
> 1014 |               {createPortal(
       | ^^^^^^^
> 1015 |                 <DragOverlay>
       | ^^^^^^^
> 1016 |                   {activeItem && activeItem.data.current?.type === "Task" && activeTaskContent ? (
       | ^^^^^^^
> 1017 |                     <Task
       | ^^^^^^^
> 1018 |                       id={activeTaskContent.id}
       | ^^^^^^^
> 1019 |                       title={activeTaskContent.title} // Pass title here
       | ^^^^^^^
> 1020 |                       subtasksCount={activeTaskContent.children?.length || 0}
       | ^^^^^^^
> 1021 |                     />
       | ^^^^^^^
> 1022 |                   ) : null}
       | ^^^^^^^
> 1023 |                   {activeItem && activeItem.data.current?.type === "Column" ? (
       | ^^^^^^^
> 1024 |                     <div className="column dragging">
       | ^^^^^^^
> 1025 |                       <h2 className="column-title">{findColumn(activeItem.id.toString())?.name}</h2>
       | ^^^^^^^
> 1026 |                       {/* Optionally render tasks in the dragged column */}
       | ^^^^^^^
> 1027 |                     </div>
       | ^^^^^^^
> 1028 |                   ) : null}
       | ^^^^^^^
> 1029 |                 </DragOverlay>,
       | ^^^^^^^
> 1030 |                 document.body
       | ^^^^^^^
> 1031 |               )}
       | ^^^^^^^
> 1032 |             </DndContext>
       | ^^^^^^^
> 1033 |           ) : (
       | ^^^^^^^
> 1034 |             <div className="h-full px-8 pt-8 pb-10 gantt-print-container">
       | ^^^^^^^
> 1035 |               <GanttChart
       | ^^^^^^^
> 1036 |                 tasks={filteredTasks}
       | ^^^^^^^
> 1037 |                 columns={columns}
       | ^^^^^^^
> 1038 |                 onTaskClick={handleTaskClick}
       | ^^^^^^^
> 1039 |                 onTaskUpdate={mutate}
       | ^^^^^^^
> 1040 |               />
       | ^^^^^^^
> 1041 |             </div>
       | ^^^^^^^
> 1042 |           )}
       | ^^^^^^^
> 1043 |         </div>
       | ^^^^^^^
> 1044 |       )}
       | ^^^^^^^
> 1045 |     </div>
       | ^^^^^^^
> 1046 |     {/* Project Settings Modal */}
       | ^^^^^^^
> 1047 |     {isSettingsOpen && createPortal(
       | ^^^^^^^
> 1048 |       <div className="fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm">
       | ^^^^^^^
> 1049 |         <div className="bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto relative">
       | ^^^^^^^
> 1050 |           <button
       | ^^^^^^^
> 1051 |             onClick={() => setIsSettingsOpen(false)}
       | ^^^^^^^
> 1052 |             className="absolute top-4 right-4 text-gray-500 hover:text-gray-700"
       | ^^^^^^^
> 1053 |           >
       | ^^^^^^^
> 1054 |             <X size={24} />
       | ^^^^^^^
> 1055 |           </button>
       | ^^^^^^^
> 1056 |           <div className="p-6">
       | ^^^^^^^
> 1057 |             <ProjectSettings projectId={projectId} />
       | ^^^^^^^
> 1058 |           </div>
       | ^^^^^^^
> 1059 |         </div>
       | ^^^^^^^
> 1060 |       </div>,
       | ^^^^^^^
> 1061 |       document.body
       | ^^^^^^^
> 1062 |     )}
       | ^^^^^^^
> 1063 |
       | ^^^^^^^
> 1064 |     {selectedTask && isModalOpen && (
       | ^^^^^^^
> 1065 |       <TaskDetailModal
       | ^^^^^^^
> 1066 |         key={selectedTask.id}
       | ^^^^^^^
> 1067 |         task={selectedTask}
       | ^^^^^^^
> 1068 |         onClose={handleCloseModal}
       | ^^^^^^^
> 1069 |         onTaskUpdate={handleTaskUpdate}
       | ^^^^^^^
> 1070 |         availableUsers={projectUsers}
       | ^^^^^^^
> 1071 |       />
       | ^^^^^^^
> 1072 |     )}
       | ^^^^^^^
> 1073 |   </div>
       | ^^^^^^^
> 1074 | );
       | ^^^
  1075 | }

Return statement is not allowed here

Import trace:
  Client Component Browser:
    ./src/components/kanban/KanbanBoard.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Server Component]
[00:45:43.635] Browser ERROR   ./src/components/kanban/KanbanBoard.tsx:301:8
Parsing ecmascript source code failed
  299 |       } else {
  300 |         return newSet;
> 301 |       });
      |        ^
  302 |   };
  303 |
  304 |   // Memoize task map for O(1) lookup

Expression expected

Import trace:
  Client Component Browser:
    ./src/components/kanban/KanbanBoard.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Server Component]
[00:45:59.883] Server  LOG      ✓ Compiled in 296ms
[00:46:00.644] Browser ERROR   ./src/components/kanban/KanbanBoard.tsx:301:8
Parsing ecmascript source code failed
  299 |       } else {
  300 |         return newSet;
> 301 |       });
      |        ^
  302 |   };
  303 |
  304 |   // Memoize task map for O(1) lookup

Expression expected

Import trace:
  Client Component Browser:
    ./src/components/kanban/KanbanBoard.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Server Component]
[01:02:40.634] Browser ERROR   ./src/components/kanban/TaskDetailModal.tsx:516:19
Parsing ecmascript source code failed
  514 |                     }
  515 |                   }}
> 516 |                   }}
      |                   ^
  517 |                 />
  518 |               </div>
  519 |             </div>

Expected '</', got '}'

Import trace:
  Client Component Browser:
    ./src/components/kanban/TaskDetailModal.tsx [Client Component Browser]
    ./src/components/kanban/KanbanBoard.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Server Component]
[01:03:07.100] Server  LOG      ✓ Compiled in 242ms
[01:03:07.642] Browser ERROR   ./src/components/kanban/TaskDetailModal.tsx:516:19
Parsing ecmascript source code failed
  514 |                     }
  515 |                   }}
> 516 |                   }}
      |                   ^
  517 |                 />
  518 |               </div>
  519 |             </div>

Expected '</', got '}'

Import trace:
  Client Component Browser:
    ./src/components/kanban/TaskDetailModal.tsx [Client Component Browser]
    ./src/components/kanban/KanbanBoard.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Server Component]
[01:14:21.648] Browser ERROR   ./src/components/kanban/KanbanBoard.tsx:305:6
Parsing ecmascript source code failed
  303 |       default:
  304 |         return tasks;
> 305 |     }, [tasks, activeFilter, customFilterCriteria, session?.user?.id]);
      |      ^
  306 |
  307 |   // Effect to sync columns when fetchedColumns changes
  308 |   // Removed: Handled by processedData useMemo and useEffect above

Expression expected

Import trace:
  Client Component Browser:
    ./src/components/kanban/KanbanBoard.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Server Component]
[01:14:44.442] Server  LOG      ✓ Compiled in 512ms
[04:12:07.294] Server  LOG      ✓ Compiled in 1054ms
[04:12:09.541] Server  LOG      ✓ Compiled in 385ms
[04:12:33.838] Server  LOG      ✓ Compiled in 331ms
[04:23:18.802] Browser ERROR   ./src/components/kanban/KanbanBoard.tsx:162:3
Parsing ecmascript source code failed
  160 |   };
  161 |
> 162 |   export function KanbanBoard({ projectId }: KanbanBoardProps) {
      |   ^^^^^^
  163 |     const { data: session } = useSession();
  164 |     const { can } = usePermissions(projectId);
  165 |     const { data: fetchedColumns, error: columnsError, mutate: mutateColumns } = useSWR<FetchedColumn[]>(

'import', and 'export' cannot be used outside of module code

Import trace:
  Client Component Browser:
    ./src/components/kanban/KanbanBoard.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Server Component]
[04:24:25.735] Server  LOG      ✓ Compiled in 603ms
[04:34:32.323] Server  LOG     JWT Callback - Token: {}
[04:34:32.326] Server  LOG     JWT Callback - User: undefined
[04:34:32.330] Server  LOG     Session Callback - Session: {}
[04:34:32.387] Server  LOG     Session Callback - Token: {}
[04:34:36.104] Browser INFO    %cDownload the React DevTools for a better development experience: https://react.dev/link/react-devtools font-weight:bold
[04:34:36.737] Server  LOG     JWT Callback - Token: {}
[04:34:36.738] Server  LOG     JWT Callback - User: undefined
[04:34:36.738] Server  LOG     Session Callback - Session: {}
[04:34:36.739] Server  LOG     Session Callback - Token: {}
[04:34:37.282] Server  LOG     JWT Callback - Token: {}
[04:34:37.282] Server  LOG     JWT Callback - User: undefined
[04:34:37.282] Server  LOG     Session Callback - Session: {}
[04:34:37.283] Server  LOG     Session Callback - Token: {}
[04:34:50.310] Server  LOG      ✓ Compiled in 893ms
[04:41:46.801] Server  LOG      ✓ Compiled in 358ms
[04:45:23.669] Server  LOG      ✓ Compiled in 2.1s
[04:45:49.366] Server  LOG      ✓ Compiled in 395ms
[05:13:48.784] Browser ERROR   ./src/components/kanban/ProjectStatisticsModal.tsx:98:27
Parsing ecmascript source code failed
   96 |             <button
   97 |               onClick={() => setViewMode('status')}
>  98 |               className={`px - 3 py - 1.5 rounded - md text - xs sm: text - sm font - medium transition - all flex items - center gap - 2 whitespace - nowrap ${
      |                           ^^
   99 |     viewMode === 'status'
  100 |         ? 'bg-white text-blue-600 shadow-sm'
  101 |         : 'text-gray-500 hover:text-gray-700'

Expected ';', '}' or <eof>

Import trace:
  Client Component Browser:
    ./src/components/kanban/ProjectStatisticsModal.tsx [Client Component Browser]
    ./src/components/kanban/KanbanBoard.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Server Component]
[05:14:29.022] Server  LOG      ✓ Compiled in 1796ms
[05:20:31.764] Browser ERROR   ./src/components/kanban/KanbanBoard.tsx:967:1
Parsing ecmascript source code failed
   965 |   : null;
   966 |
>  967 | return (
       | ^^^^^^^^
>  968 |   <div>
       | ^^^^^^^
>  969 |     <div className="flex flex-col h-screen">
       | ^^^^^^^
>  970 |       {/* Header - Always visible */}
       | ^^^^^^^
>  971 |       <div className="header">
       | ^^^^^^^
>  972 |         <Link href="/dashboard" className="header-title hover:text-gray-300 transition-colors">
       | ^^^^^^^
>  973 |           {"< Project"}
       | ^^^^^^^
>  974 |         </Link>
       | ^^^^^^^
>  975 |         <div className="flex items-center gap-2">
       | ^^^^^^^
>  976 |           {/* Filter Bar integrated into header */}
       | ^^^^^^^
>  977 |           <div className="mr-4">
       | ^^^^^^^
>  978 |             <FilterBar
       | ^^^^^^^
>  979 |               projectId={projectId}
       | ^^^^^^^
>  980 |               currentUserId={session?.user?.id || ""}
       | ^^^^^^^
>  981 |               activeFilter={activeFilter}
       | ^^^^^^^
>  982 |               onFilterChange={(filter, criteria) => {
       | ^^^^^^^
>  983 |                 setActiveFilter(filter);
       | ^^^^^^^
>  984 |                 setCustomFilterCriteria(criteria || null);
       | ^^^^^^^
>  985 |               }}
       | ^^^^^^^
>  986 |               availableUsers={projectUsers}
       | ^^^^^^^
>  987 |               availableColumns={columns.map(col => ({ id: col.id, name: col.name }))}
       | ^^^^^^^
>  988 |             />
       | ^^^^^^^
>  989 |           </div>
       | ^^^^^^^
>  990 |           {/* Show Archived Tasks Toggle */}
       | ^^^^^^^
>  991 |           <Button
       | ^^^^^^^
>  992 |             onClick={() => setShowArchivedTasks(!showArchivedTasks)}
       | ^^^^^^^
>  993 |             variant="ghost"
       | ^^^^^^^
>  994 |             size="sm"
       | ^^^^^^^
>  995 |             className={`bg-white text-slate-700 hover:bg-slate-100 border border-slate-200 shadow-sm transition-all ${showArchivedTasks ? 'bg-amber-50 text-amber-600 border-amber-200' : ''}`}
       | ^^^^^^^
>  996 |             title={showArchivedTasks ? "Volver a tareas activas" : "Ver tareas archivadas"}
       | ^^^^^^^
>  997 |           >
       | ^^^^^^^
>  998 |             <Archive className="w-4 h-4 mr-2" />
       | ^^^^^^^
>  999 |             {showArchivedTasks ? "Activas" : "Archivadas"}
       | ^^^^^^^
> 1000 |           </Button>
       | ^^^^^^^
> 1001 |           {/* Show Hidden Tasks Toggle */}
       | ^^^^^^^
> 1002 |           <Button
       | ^^^^^^^
> 1003 |             onClick={() => setShowHiddenTasks(!showHiddenTasks)}
       | ^^^^^^^
> 1004 |             variant="ghost"
       | ^^^^^^^
> 1005 |             size="sm"
       | ^^^^^^^
> 1006 |             className={`bg-white text-slate-700 hover:bg-slate-100 border border-slate-200 shadow-sm transition-all ${showHiddenTasks ? 'bg-blue-50 text-blue-600 border-blue-200' : ''}`}
       | ^^^^^^^
> 1007 |             title={showHiddenTasks ? "Ocultar tareas escondidas" : "Mostrar tareas escondidas"}
       | ^^^^^^^
> 1008 |           >
       | ^^^^^^^
> 1009 |             {showHiddenTasks ? <Eye className="w-4 h-4 mr-2" /> : <EyeOff className="w-4 h-4 mr-2" />}
       | ^^^^^^^
> 1010 |             {showHiddenTasks ? "Ocultar" : "Mostrar"}
       | ^^^^^^^
> 1011 |           </Button>
       | ^^^^^^^
> 1012 |           <Button
       | ^^^^^^^
> 1013 |             onClick={() => setViewMode(viewMode === 'kanban' ? 'gantt' : 'kanban')}
       | ^^^^^^^
> 1014 |             variant="ghost"
       | ^^^^^^^
> 1015 |             size="sm"
       | ^^^^^^^
> 1016 |             className={`${viewMode === 'gantt'
       | ^^^^^^^
> 1017 |               ? 'bg-blue-500 text-white hover:bg-blue-600'
       | ^^^^^^^
> 1018 |               : 'bg-white text-slate-700 hover:bg-slate-100'
       | ^^^^^^^
> 1019 |               } border border-slate-200 shadow-sm transition-all`}
       | ^^^^^^^
> 1020 |           >
       | ^^^^^^^
> 1021 |             <BarChart3 className="w-4 h-4 mr-2" />
       | ^^^^^^^
> 1022 |             {viewMode === 'kanban' ? 'Ganttifícalo' : 'Kanban'}
       | ^^^^^^^
> 1023 |           </Button>
       | ^^^^^^^
> 1024 |           {viewMode === 'gantt' && (
       | ^^^^^^^
> 1025 |             <Button
       | ^^^^^^^
> 1026 |               onClick={() => window.print()}
       | ^^^^^^^
> 1027 |               variant="ghost"
       | ^^^^^^^
> 1028 |               size="sm"
       | ^^^^^^^
> 1029 |               className="bg-white text-slate-700 hover:bg-slate-100 border border-slate-200 shadow-sm transition-all"
       | ^^^^^^^
> 1030 |               title="Imprimir Gantt a PDF"
       | ^^^^^^^
> 1031 |             >
       | ^^^^^^^
> 1032 |               <Printer className="w-4 h-4 mr-2" />
       | ^^^^^^^
> 1033 |               Imprimir
       | ^^^^^^^
> 1034 |             </Button>
       | ^^^^^^^
> 1035 |           )}
       | ^^^^^^^
> 1036 |           {viewMode === 'gantt' && (
       | ^^^^^^^
> 1037 |             <Button
       | ^^^^^^^
> 1038 |               onClick={handleExportExcel}
       | ^^^^^^^
> 1039 |               variant="ghost"
       | ^^^^^^^
> 1040 |               size="sm"
       | ^^^^^^^
> 1041 |               className="bg-white text-slate-700 hover:bg-slate-100 border border-slate-200 shadow-sm transition-all"
       | ^^^^^^^
> 1042 |               title="Descargar Excel"
       | ^^^^^^^
> 1043 |             >
       | ^^^^^^^
> 1044 |               <FileSpreadsheet className="w-4 h-4 mr-2" />
       | ^^^^^^^
> 1045 |               Excel
       | ^^^^^^^
> 1046 |             </Button>
       | ^^^^^^^
> 1047 |           )}
       | ^^^^^^^
> 1048 |
       | ^^^^^^^
> 1049 |           {/* Statistics Button */}
       | ^^^^^^^
> 1050 |           <Button
       | ^^^^^^^
> 1051 |             onClick={() => setIsStatsModalOpen(true)}
       | ^^^^^^^
> 1052 |             variant="ghost"
       | ^^^^^^^
> 1053 |             size="sm"
       | ^^^^^^^
> 1054 |             className="bg-white text-slate-700 hover:bg-slate-100 border border-slate-200 shadow-sm transition-all"
       | ^^^^^^^
> 1055 |             title="Ver Estadísticas"
       | ^^^^^^^
> 1056 |           >
       | ^^^^^^^
> 1057 |             <PieChartIcon className="w-4 h-4 mr-2" />
       | ^^^^^^^
> 1058 |             Estadísticas
       | ^^^^^^^
> 1059 |           </Button>
       | ^^^^^^^
> 1060 |           {can(PERMISSIONS.MANAGE_PROJECT) && (
       | ^^^^^^^
> 1061 |             <>
       | ^^^^^^^
> 1062 |               <Button
       | ^^^^^^^
> 1063 |                 onClick={() => setIsSettingsOpen(true)}
       | ^^^^^^^
> 1064 |                 variant="ghost"
       | ^^^^^^^
> 1065 |                 size="sm"
       | ^^^^^^^
> 1066 |                 className="bg-white text-slate-700 hover:bg-slate-100 border border-slate-200 shadow-sm"
       | ^^^^^^^
> 1067 |               >
       | ^^^^^^^
> 1068 |                 <Settings className="w-4 h-4 mr-2" />
       | ^^^^^^^
> 1069 |                 Settings
       | ^^^^^^^
> 1070 |               </Button>
       | ^^^^^^^
> 1071 |               {/* Add Column Button - Only for Managers */}
       | ^^^^^^^
> 1072 |               {can(PERMISSIONS.MANAGE_PROJECT) && (
       | ^^^^^^^
> 1073 |                 <Button onClick={handleAddColumn} className="btn-primary">Add Column</Button>
       | ^^^^^^^
> 1074 |               )}
       | ^^^^^^^
> 1075 |             </>
       | ^^^^^^^
> 1076 |           )}
       | ^^^^^^^
> 1077 |         </div>
       | ^^^^^^^
> 1078 |       </div>
       | ^^^^^^^
> 1079 |
       | ^^^^^^^
> 1080 |       {/* Content Area - Show loading only if initial load */}
       | ^^^^^^^
> 1081 |       {!fetchedColumns && columns.length === 0 ? (
       | ^^^^^^^
> 1082 |         <div className="flex-1 flex items-center justify-center">
       | ^^^^^^^
> 1083 |           <div>Loading...</div>
       | ^^^^^^^
> 1084 |         </div>
       | ^^^^^^^
> 1085 |       ) : (
       | ^^^^^^^
> 1086 |         <div className="flex-1 overflow-hidden">
       | ^^^^^^^
> 1087 |
       | ^^^^^^^
> 1088 |           {/* Conditional View: Kanban or Gantt */}
       | ^^^^^^^
> 1089 |           {viewMode === 'kanban' ? (
       | ^^^^^^^
> 1090 |             <DndContext
       | ^^^^^^^
> 1091 |               sensors={sensors}
       | ^^^^^^^
> 1092 |               collisionDetection={pointerWithin}
       | ^^^^^^^
> 1093 |               onDragStart={onDragStart}
       | ^^^^^^^
> 1094 |               onDragEnd={onDragEnd}
       | ^^^^^^^
> 1095 |               onDragOver={onDragOver}
       | ^^^^^^^
> 1096 |             >
       | ^^^^^^^
> 1097 |               <div className="h-full overflow-x-auto overflow-y-hidden px-8 pt-8 pb-10 bg-neutral-50">
       | ^^^^^^^
> 1098 |                 <SortableContext items={columnsId}>
       | ^^^^^^^
> 1099 |                   <div className="flex gap-4 h-full">
       | ^^^^^^^
> 1100 |                     {columns.map((col) => {
       | ^^^^^^^
> 1101 |                       // Filter tasks for this column
       | ^^^^^^^
> 1102 |                       const columnTasks = visibleTasks
       | ^^^^^^^
> 1103 |                         .filter(task => task.columnId === col.id && filteredTaskIds.has(task.id))
       | ^^^^^^^
> 1104 |                         .sort((a, b) => (a.sortKey || "").localeCompare(b.sortKey || ""));
       | ^^^^^^^
> 1105 |
       | ^^^^^^^
> 1106 |                       return (
       | ^^^^^^^
> 1107 |                         <Column
       | ^^^^^^^
> 1108 |                           key={col.id}
       | ^^^^^^^
> 1109 |                           id={col.id}
       | ^^^^^^^
> 1110 |                           title={col.name}
       | ^^^^^^^
> 1111 |                           color={col.color}
       | ^^^^^^^
> 1112 |                           cardColor={col.cardColor}
       | ^^^^^^^
> 1113 |                           tasks={columnTasks}
       | ^^^^^^^
> 1114 |                           onEditName={handleEditColumnName}
       | ^^^^^^^
> 1115 |                           onDelete={handleDeleteColumn}
       | ^^^^^^^
> 1116 |                           onCreateTask={handleCreateTask}
       | ^^^^^^^
> 1117 |                           onTaskClick={handleTaskClick}
       | ^^^^^^^
> 1118 |                           onColorChange={handleColorChange}
       | ^^^^^^^
> 1119 |                           onProgressChange={handleProgressChange} // Pass handler
       | ^^^^^^^
> 1120 |                           collapsedTasks={collapsedTasks}
       | ^^^^^^^
> 1121 |                           onToggleCollapse={toggleTaskCollapse}
       | ^^^^^^^
> 1122 |                           onToggleHide={toggleTaskHide}
       | ^^^^^^^
> 1123 |                           hiddenTasks={hiddenTasks}
       | ^^^^^^^
> 1124 |                           onToggleGanttVisibility={handleToggleGanttVisibility} // New prop
       | ^^^^^^^
> 1125 |                         />
       | ^^^^^^^
> 1126 |                       );
       | ^^^^^^^
> 1127 |                     })}
       | ^^^^^^^
> 1128 |                   </div>
       | ^^^^^^^
> 1129 |                 </SortableContext>
       | ^^^^^^^
> 1130 |               </div>
       | ^^^^^^^
> 1131 |               {createPortal(
       | ^^^^^^^
> 1132 |                 <DragOverlay>
       | ^^^^^^^
> 1133 |                   {activeItem && activeItem.data.current?.type === "Task" && activeTaskContent ? (
       | ^^^^^^^
> 1134 |                     <Task
       | ^^^^^^^
> 1135 |                       id={activeTaskContent.id}
       | ^^^^^^^
> 1136 |                       title={activeTaskContent.title} // Pass title here
       | ^^^^^^^
> 1137 |                       subtasksCount={activeTaskContent.children?.length || 0}
       | ^^^^^^^
> 1138 |                     />
       | ^^^^^^^
> 1139 |                   ) : null}
       | ^^^^^^^
> 1140 |                   {activeItem && activeItem.data.current?.type === "Column" ? (
       | ^^^^^^^
> 1141 |                     <div className="column dragging">
       | ^^^^^^^
> 1142 |                       <h2 className="column-title">{findColumn(activeItem.id.toString())?.name}</h2>
       | ^^^^^^^
> 1143 |                       {/* Optionally render tasks in the dragged column */}
       | ^^^^^^^
> 1144 |                     </div>
       | ^^^^^^^
> 1145 |                   ) : null}
       | ^^^^^^^
> 1146 |                 </DragOverlay>,
       | ^^^^^^^
> 1147 |                 document.body
       | ^^^^^^^
> 1148 |               )}
       | ^^^^^^^
> 1149 |             </DndContext>
       | ^^^^^^^
> 1150 |           ) : (
       | ^^^^^^^
> 1151 |             <div className="h-full px-8 pt-8 pb-10 gantt-print-container">
       | ^^^^^^^
> 1152 |               <GanttChart
       | ^^^^^^^
> 1153 |                 tasks={tasks}
       | ^^^^^^^
> 1154 |                 columns={columns}
       | ^^^^^^^
> 1155 |                 onTaskClick={handleTaskClick}
       | ^^^^^^^
> 1156 |                 visibleTasks={visibleTasks} // Pass visible tasks to Gantt
       | ^^^^^^^
> 1157 |               />
       | ^^^^^^^
> 1158 |             </div>
       | ^^^^^^^
> 1159 |           )}
       | ^^^^^^^
> 1160 |         </div>
       | ^^^^^^^
> 1161 |       )}
       | ^^^^^^^
> 1162 |     </div>
       | ^^^^^^^
> 1163 |
       | ^^^^^^^
> 1164 |     {/* Modals */}
       | ^^^^^^^
> 1165 |     <ProjectStatisticsModal
       | ^^^^^^^
> 1166 |       isOpen={isStatsModalOpen}
       | ^^^^^^^
> 1167 |       onClose={() => setIsStatsModalOpen(false)}
       | ^^^^^^^
> 1168 |       tasks={tasks}
       | ^^^^^^^
> 1169 |     />
       | ^^^^^^^
> 1170 |
       | ^^^^^^^
> 1171 |     {selectedTask && isModalOpen && (
       | ^^^^^^^
> 1172 |       <TaskDetailModal
       | ^^^^^^^
> 1173 |         key={selectedTask.id}
       | ^^^^^^^
> 1174 |         task={selectedTask}
       | ^^^^^^^
> 1175 |         onClose={handleCloseModal}
       | ^^^^^^^
> 1176 |         onTaskUpdate={handleTaskUpdate}
       | ^^^^^^^
> 1177 |         availableUsers={projectUsers}
       | ^^^^^^^
> 1178 |       />
       | ^^^^^^^
> 1179 |     )}
       | ^^^^^^^
> 1180 |
       | ^^^^^^^
> 1181 |     {isSettingsOpen && createPortal(
       | ^^^^^^^
> 1182 |       <div className="fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm">
       | ^^^^^^^
> 1183 |         <div className="bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto relative">
       | ^^^^^^^
> 1184 |           <button
       | ^^^^^^^
> 1185 |             onClick={() => setIsSettingsOpen(false)}
       | ^^^^^^^
> 1186 |             className="absolute top-4 right-4 text-gray-500 hover:text-gray-700"
       | ^^^^^^^
> 1187 |           >
       | ^^^^^^^
> 1188 |             <X size={24} />
       | ^^^^^^^
> 1189 |           </button>
       | ^^^^^^^
> 1190 |           <div className="p-6">
       | ^^^^^^^
> 1191 |             <ProjectSettings projectId={projectId} />
       | ^^^^^^^
> 1192 |           </div>
       | ^^^^^^^
> 1193 |         </div>
       | ^^^^^^^
> 1194 |       </div>,
       | ^^^^^^^
> 1195 |       document.body
       | ^^^^^^^
> 1196 |     )}
       | ^^^^^^^
> 1197 |
       | ^^^^^^^
> 1198 |     {selectedTask && isModalOpen && (
       | ^^^^^^^
> 1199 |       <TaskDetailModal
       | ^^^^^^^
> 1200 |         key={selectedTask.id}
       | ^^^^^^^
> 1201 |         task={selectedTask}
       | ^^^^^^^
> 1202 |         onClose={handleCloseModal}
       | ^^^^^^^
> 1203 |         onTaskUpdate={handleTaskUpdate}
       | ^^^^^^^
> 1204 |         availableUsers={projectUsers}
       | ^^^^^^^
> 1205 |       />
       | ^^^^^^^
> 1206 |     )}
       | ^^^^^^^
> 1207 |   </div>
       | ^^^^^^^
> 1208 | );
       | ^^^
  1209 | }

Return statement is not allowed here

Import trace:
  Client Component Browser:
    ./src/components/kanban/KanbanBoard.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Server Component]
[05:21:21.878] Server  LOG      ✓ Compiled in 2.4s
[05:32:50.418] Browser ERROR   ./src/components/kanban/KanbanBoard.tsx:863:1
Parsing ecmascript source code failed
   861 |   : null;
   862 |
>  863 | return (
       | ^^^^^^^^
>  864 |   <div>
       | ^^^^^^^
>  865 |     <div className="flex flex-col h-screen">
       | ^^^^^^^
>  866 |       {/* Header - Always visible */}
       | ^^^^^^^
>  867 |       <div className="header">
       | ^^^^^^^
>  868 |         <Link href="/dashboard" className="header-title hover:text-gray-300 transition-colors">
       | ^^^^^^^
>  869 |           {"< Project"}
       | ^^^^^^^
>  870 |         </Link>
       | ^^^^^^^
>  871 |         <div className="flex items-center gap-2">
       | ^^^^^^^
>  872 |           {/* Filter Bar integrated into header */}
       | ^^^^^^^
>  873 |           <div className="mr-4">
       | ^^^^^^^
>  874 |             <FilterBar
       | ^^^^^^^
>  875 |               projectId={projectId}
       | ^^^^^^^
>  876 |               currentUserId={session?.user?.id || ""}
       | ^^^^^^^
>  877 |               activeFilter={activeFilter}
       | ^^^^^^^
>  878 |               onFilterChange={(filter, criteria) => {
       | ^^^^^^^
>  879 |                 setActiveFilter(filter);
       | ^^^^^^^
>  880 |                 setCustomFilterCriteria(criteria || null);
       | ^^^^^^^
>  881 |               }}
       | ^^^^^^^
>  882 |               availableUsers={projectUsers}
       | ^^^^^^^
>  883 |               availableColumns={columns.map(col => ({ id: col.id, name: col.name }))}
       | ^^^^^^^
>  884 |             />
       | ^^^^^^^
>  885 |           </div>
       | ^^^^^^^
>  886 |           {/* Show Archived Tasks Toggle */}
       | ^^^^^^^
>  887 |           <Button
       | ^^^^^^^
>  888 |             onClick={() => setShowArchivedTasks(!showArchivedTasks)}
       | ^^^^^^^
>  889 |             variant="ghost"
       | ^^^^^^^
>  890 |             size="sm"
       | ^^^^^^^
>  891 |             className={`bg-white text-slate-700 hover:bg-slate-100 border border-slate-200 shadow-sm transition-all ${showArchivedTasks ? 'bg-amber-50 text-amber-600 border-amber-200' : ''}`}
       | ^^^^^^^
>  892 |             title={showArchivedTasks ? "Volver a tareas activas" : "Ver tareas archivadas"}
       | ^^^^^^^
>  893 |           >
       | ^^^^^^^
>  894 |             <Archive className="w-4 h-4 mr-2" />
       | ^^^^^^^
>  895 |             {showArchivedTasks ? "Activas" : "Archivadas"}
       | ^^^^^^^
>  896 |           </Button>
       | ^^^^^^^
>  897 |           {/* Show Hidden Tasks Toggle */}
       | ^^^^^^^
>  898 |           <Button
       | ^^^^^^^
>  899 |             onClick={() => setShowHiddenTasks(!showHiddenTasks)}
       | ^^^^^^^
>  900 |             variant="ghost"
       | ^^^^^^^
>  901 |             size="sm"
       | ^^^^^^^
>  902 |             className={`bg-white text-slate-700 hover:bg-slate-100 border border-slate-200 shadow-sm transition-all ${showHiddenTasks ? 'bg-blue-50 text-blue-600 border-blue-200' : ''}`}
       | ^^^^^^^
>  903 |             title={showHiddenTasks ? "Ocultar tareas escondidas" : "Mostrar tareas escondidas"}
       | ^^^^^^^
>  904 |           >
       | ^^^^^^^
>  905 |             {showHiddenTasks ? <Eye className="w-4 h-4 mr-2" /> : <EyeOff className="w-4 h-4 mr-2" />}
       | ^^^^^^^
>  906 |             {showHiddenTasks ? "Ocultar" : "Mostrar"}
       | ^^^^^^^
>  907 |           </Button>
       | ^^^^^^^
>  908 |           <Button
       | ^^^^^^^
>  909 |             onClick={() => setViewMode(viewMode === 'kanban' ? 'gantt' : 'kanban')}
       | ^^^^^^^
>  910 |             variant="ghost"
       | ^^^^^^^
>  911 |             size="sm"
       | ^^^^^^^
>  912 |             className={`${viewMode === 'gantt'
       | ^^^^^^^
>  913 |               ? 'bg-blue-500 text-white hover:bg-blue-600'
       | ^^^^^^^
>  914 |               : 'bg-white text-slate-700 hover:bg-slate-100'
       | ^^^^^^^
>  915 |               } border border-slate-200 shadow-sm transition-all`}
       | ^^^^^^^
>  916 |           >
       | ^^^^^^^
>  917 |             <BarChart3 className="w-4 h-4 mr-2" />
       | ^^^^^^^
>  918 |             {viewMode === 'kanban' ? 'Ganttifícalo' : 'Kanban'}
       | ^^^^^^^
>  919 |           </Button>
       | ^^^^^^^
>  920 |           {viewMode === 'gantt' && (
       | ^^^^^^^
>  921 |             <Button
       | ^^^^^^^
>  922 |               onClick={() => window.print()}
       | ^^^^^^^
>  923 |               variant="ghost"
       | ^^^^^^^
>  924 |               size="sm"
       | ^^^^^^^
>  925 |               className="bg-white text-slate-700 hover:bg-slate-100 border border-slate-200 shadow-sm transition-all"
       | ^^^^^^^
>  926 |               title="Imprimir Gantt a PDF"
       | ^^^^^^^
>  927 |             >
       | ^^^^^^^
>  928 |               <Printer className="w-4 h-4 mr-2" />
       | ^^^^^^^
>  929 |               Imprimir
       | ^^^^^^^
>  930 |             </Button>
       | ^^^^^^^
>  931 |           )}
       | ^^^^^^^
>  932 |           {viewMode === 'gantt' && (
       | ^^^^^^^
>  933 |             <Button
       | ^^^^^^^
>  934 |               onClick={handleExportExcel}
       | ^^^^^^^
>  935 |               variant="ghost"
       | ^^^^^^^
>  936 |               size="sm"
       | ^^^^^^^
>  937 |               className="bg-white text-slate-700 hover:bg-slate-100 border border-slate-200 shadow-sm transition-all"
       | ^^^^^^^
>  938 |               title="Descargar Excel"
       | ^^^^^^^
>  939 |             >
       | ^^^^^^^
>  940 |               <FileSpreadsheet className="w-4 h-4 mr-2" />
       | ^^^^^^^
>  941 |               Excel
       | ^^^^^^^
>  942 |             </Button>
       | ^^^^^^^
>  943 |           )}
       | ^^^^^^^
>  944 |           {can(PERMISSIONS.MANAGE_PROJECT) && (
       | ^^^^^^^
>  945 |             <>
       | ^^^^^^^
>  946 |               <Button
       | ^^^^^^^
>  947 |                 onClick={() => setIsSettingsOpen(true)}
       | ^^^^^^^
>  948 |                 variant="ghost"
       | ^^^^^^^
>  949 |                 size="sm"
       | ^^^^^^^
>  950 |                 className="bg-white text-slate-700 hover:bg-slate-100 border border-slate-200 shadow-sm"
       | ^^^^^^^
>  951 |               >
       | ^^^^^^^
>  952 |                 <Settings className="w-4 h-4 mr-2" />
       | ^^^^^^^
>  953 |                 Settings
       | ^^^^^^^
>  954 |               </Button>
       | ^^^^^^^
>  955 |               {/* Add Column Button - Only for Managers */}
       | ^^^^^^^
>  956 |               {can(PERMISSIONS.MANAGE_PROJECT) && (
       | ^^^^^^^
>  957 |                 <Button onClick={handleAddColumn} className="btn-primary">Add Column</Button>
       | ^^^^^^^
>  958 |               )}
       | ^^^^^^^
>  959 |             </>
       | ^^^^^^^
>  960 |           )}
       | ^^^^^^^
>  961 |         </div>
       | ^^^^^^^
>  962 |       </div>
       | ^^^^^^^
>  963 |
       | ^^^^^^^
>  964 |       {/* Content Area - Show loading only if initial load */}
       | ^^^^^^^
>  965 |       {!fetchedColumns && columns.length === 0 ? (
       | ^^^^^^^
>  966 |         <div className="flex-1 flex items-center justify-center">
       | ^^^^^^^
>  967 |           <div>Loading...</div>
       | ^^^^^^^
>  968 |         </div>
       | ^^^^^^^
>  969 |       ) : (
       | ^^^^^^^
>  970 |         <div className="flex-1 overflow-hidden">
       | ^^^^^^^
>  971 |
       | ^^^^^^^
>  972 |           {/* Conditional View: Kanban or Gantt */}
       | ^^^^^^^
>  973 |           {viewMode === 'kanban' ? (
       | ^^^^^^^
>  974 |             <DndContext
       | ^^^^^^^
>  975 |               sensors={sensors}
       | ^^^^^^^
>  976 |               collisionDetection={pointerWithin}
       | ^^^^^^^
>  977 |               onDragStart={onDragStart}
       | ^^^^^^^
>  978 |               onDragEnd={onDragEnd}
       | ^^^^^^^
>  979 |               onDragOver={onDragOver}
       | ^^^^^^^
>  980 |             >
       | ^^^^^^^
>  981 |               <div className="h-full overflow-x-auto overflow-y-hidden px-8 pt-8 pb-10 bg-neutral-50">
       | ^^^^^^^
>  982 |                 <SortableContext items={columnsId}>
       | ^^^^^^^
>  983 |                   <div className="flex gap-4 h-full">
       | ^^^^^^^
>  984 |                     {columns.map((col) => {
       | ^^^^^^^
>  985 |                       // Filter tasks for this column
       | ^^^^^^^
>  986 |                       const columnTasks = visibleTasks
       | ^^^^^^^
>  987 |                         .filter(task => task.columnId === col.id && filteredTaskIds.has(task.id))
       | ^^^^^^^
>  988 |                         .sort((a, b) => a.order - b.order);
       | ^^^^^^^
>  989 |
       | ^^^^^^^
>  990 |                       return (
       | ^^^^^^^
>  991 |                         <Column
       | ^^^^^^^
>  992 |                           key={col.id}
       | ^^^^^^^
>  993 |                           id={col.id}
       | ^^^^^^^
>  994 |                           title={col.name}
       | ^^^^^^^
>  995 |                           color={col.color}
       | ^^^^^^^
>  996 |                           cardColor={col.cardColor}
       | ^^^^^^^
>  997 |                           tasks={columnTasks}
       | ^^^^^^^
>  998 |                           onEditName={handleEditColumnName}
       | ^^^^^^^
>  999 |                           onDelete={handleDeleteColumn}
       | ^^^^^^^
> 1000 |                           onCreateTask={handleCreateTask}
       | ^^^^^^^
> 1001 |                           onTaskClick={handleTaskClick}
       | ^^^^^^^
> 1002 |                           onColorChange={handleColorChange}
       | ^^^^^^^
> 1003 |                           onProgressChange={handleProgressChange} // Pass handler
       | ^^^^^^^
> 1004 |                           collapsedTasks={collapsedTasks}
       | ^^^^^^^
> 1005 |                           onToggleCollapse={toggleTaskCollapse}
       | ^^^^^^^
> 1006 |                           onToggleHide={toggleTaskHide}
       | ^^^^^^^
> 1007 |                           hiddenTasks={hiddenTasks}
       | ^^^^^^^
> 1008 |                           onToggleGanttVisibility={handleToggleGanttVisibility} // New prop
       | ^^^^^^^
> 1009 |                         />
       | ^^^^^^^
> 1010 |                       );
       | ^^^^^^^
> 1011 |                     })}
       | ^^^^^^^
> 1012 |                   </div>
       | ^^^^^^^
> 1013 |                 </SortableContext>
       | ^^^^^^^
> 1014 |               </div>
       | ^^^^^^^
> 1015 |               {createPortal(
       | ^^^^^^^
> 1016 |                 <DragOverlay>
       | ^^^^^^^
> 1017 |                   {activeItem && activeItem.data.current?.type === "Task" && activeTaskContent ? (
       | ^^^^^^^
> 1018 |                     <Task
       | ^^^^^^^
> 1019 |                       id={activeTaskContent.id}
       | ^^^^^^^
> 1020 |                       title={activeTaskContent.title} // Pass title here
       | ^^^^^^^
> 1021 |                       subtasksCount={activeTaskContent.children?.length || 0}
       | ^^^^^^^
> 1022 |                     />
       | ^^^^^^^
> 1023 |                   ) : null}
       | ^^^^^^^
> 1024 |                   {activeItem && activeItem.data.current?.type === "Column" ? (
       | ^^^^^^^
> 1025 |                     <div className="column dragging">
       | ^^^^^^^
> 1026 |                       <h2 className="column-title">{findColumn(activeItem.id.toString())?.name}</h2>
       | ^^^^^^^
> 1027 |                       {/* Optionally render tasks in the dragged column */}
       | ^^^^^^^
> 1028 |                     </div>
       | ^^^^^^^
> 1029 |                   ) : null}
       | ^^^^^^^
> 1030 |                 </DragOverlay>,
       | ^^^^^^^
> 1031 |                 document.body
       | ^^^^^^^
> 1032 |               )}
       | ^^^^^^^
> 1033 |             </DndContext>
       | ^^^^^^^
> 1034 |           ) : (
       | ^^^^^^^
> 1035 |             <div className="h-full px-8 pt-8 pb-10 gantt-print-container">
       | ^^^^^^^
> 1036 |               <GanttChart
       | ^^^^^^^
> 1037 |                 tasks={filteredTasks}
       | ^^^^^^^
> 1038 |                 columns={columns}
       | ^^^^^^^
> 1039 |                 onTaskClick={handleTaskClick}
       | ^^^^^^^
> 1040 |                 onTaskUpdate={mutate}
       | ^^^^^^^
> 1041 |               />
       | ^^^^^^^
> 1042 |             </div>
       | ^^^^^^^
> 1043 |           )}
       | ^^^^^^^
> 1044 |         </div>
       | ^^^^^^^
> 1045 |       )}
       | ^^^^^^^
> 1046 |     </div>
       | ^^^^^^^
> 1047 |     {/* Project Settings Modal */}
       | ^^^^^^^
> 1048 |     {isSettingsOpen && createPortal(
       | ^^^^^^^
> 1049 |       <div className="fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm">
       | ^^^^^^^
> 1050 |         <div className="bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto relative">
       | ^^^^^^^
> 1051 |           <button
       | ^^^^^^^
> 1052 |             onClick={() => setIsSettingsOpen(false)}
       | ^^^^^^^
> 1053 |             className="absolute top-4 right-4 text-gray-500 hover:text-gray-700"
       | ^^^^^^^
> 1054 |           >
       | ^^^^^^^
> 1055 |             <X size={24} />
       | ^^^^^^^
> 1056 |           </button>
       | ^^^^^^^
> 1057 |           <div className="p-6">
       | ^^^^^^^
> 1058 |             <ProjectSettings projectId={projectId} />
       | ^^^^^^^
> 1059 |           </div>
       | ^^^^^^^
> 1060 |         </div>
       | ^^^^^^^
> 1061 |       </div>,
       | ^^^^^^^
> 1062 |       document.body
       | ^^^^^^^
> 1063 |     )}
       | ^^^^^^^
> 1064 |
       | ^^^^^^^
> 1065 |     {selectedTask && isModalOpen && (
       | ^^^^^^^
> 1066 |       <TaskDetailModal
       | ^^^^^^^
> 1067 |         key={selectedTask.id}
       | ^^^^^^^
> 1068 |         task={selectedTask}
       | ^^^^^^^
> 1069 |         onClose={handleCloseModal}
       | ^^^^^^^
> 1070 |         onTaskUpdate={handleTaskUpdate}
       | ^^^^^^^
> 1071 |         availableUsers={projectUsers}
       | ^^^^^^^
> 1072 |       />
       | ^^^^^^^
> 1073 |     )}
       | ^^^^^^^
> 1074 |   </div>
       | ^^^^^^^
> 1075 | );
       | ^^^
  1076 | }

Return statement is not allowed here

Import trace:
  Client Component Browser:
    ./src/components/kanban/KanbanBoard.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Server Component]
[05:32:50.418] Browser ERROR   ./src/components/kanban/KanbanBoard.tsx:301:8
Parsing ecmascript source code failed
  299 |       } else {
  300 |         newSet.add(taskId);
> 301 |       });
      |        ^
  302 |   };
  303 |
  304 |   // Memoize task map for O(1) lookup

Expression expected

Import trace:
  Client Component Browser:
    ./src/components/kanban/KanbanBoard.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Server Component]
[05:32:50.418] Browser ERROR   ./src/components/kanban/KanbanBoard.tsx:862:1
Parsing ecmascript source code failed
   860 |   : null;
   861 |
>  862 | return (
       | ^^^^^^^^
>  863 |   <div>
       | ^^^^^^^
>  864 |     <div className="flex flex-col h-screen">
       | ^^^^^^^
>  865 |       {/* Header - Always visible */}
       | ^^^^^^^
>  866 |       <div className="header">
       | ^^^^^^^
>  867 |         <Link href="/dashboard" className="header-title hover:text-gray-300 transition-colors">
       | ^^^^^^^
>  868 |           {"< Project"}
       | ^^^^^^^
>  869 |         </Link>
       | ^^^^^^^
>  870 |         <div className="flex items-center gap-2">
       | ^^^^^^^
>  871 |           {/* Filter Bar integrated into header */}
       | ^^^^^^^
>  872 |           <div className="mr-4">
       | ^^^^^^^
>  873 |             <FilterBar
       | ^^^^^^^
>  874 |               projectId={projectId}
       | ^^^^^^^
>  875 |               currentUserId={session?.user?.id || ""}
       | ^^^^^^^
>  876 |               activeFilter={activeFilter}
       | ^^^^^^^
>  877 |               onFilterChange={(filter, criteria) => {
       | ^^^^^^^
>  878 |                 setActiveFilter(filter);
       | ^^^^^^^
>  879 |                 setCustomFilterCriteria(criteria || null);
       | ^^^^^^^
>  880 |               }}
       | ^^^^^^^
>  881 |               availableUsers={projectUsers}
       | ^^^^^^^
>  882 |               availableColumns={columns.map(col => ({ id: col.id, name: col.name }))}
       | ^^^^^^^
>  883 |             />
       | ^^^^^^^
>  884 |           </div>
       | ^^^^^^^
>  885 |           {/* Show Archived Tasks Toggle */}
       | ^^^^^^^
>  886 |           <Button
       | ^^^^^^^
>  887 |             onClick={() => setShowArchivedTasks(!showArchivedTasks)}
       | ^^^^^^^
>  888 |             variant="ghost"
       | ^^^^^^^
>  889 |             size="sm"
       | ^^^^^^^
>  890 |             className={`bg-white text-slate-700 hover:bg-slate-100 border border-slate-200 shadow-sm transition-all ${showArchivedTasks ? 'bg-amber-50 text-amber-600 border-amber-200' : ''}`}
       | ^^^^^^^
>  891 |             title={showArchivedTasks ? "Volver a tareas activas" : "Ver tareas archivadas"}
       | ^^^^^^^
>  892 |           >
       | ^^^^^^^
>  893 |             <Archive className="w-4 h-4 mr-2" />
       | ^^^^^^^
>  894 |             {showArchivedTasks ? "Activas" : "Archivadas"}
       | ^^^^^^^
>  895 |           </Button>
       | ^^^^^^^
>  896 |           {/* Show Hidden Tasks Toggle */}
       | ^^^^^^^
>  897 |           <Button
       | ^^^^^^^
>  898 |             onClick={() => setShowHiddenTasks(!showHiddenTasks)}
       | ^^^^^^^
>  899 |             variant="ghost"
       | ^^^^^^^
>  900 |             size="sm"
       | ^^^^^^^
>  901 |             className={`bg-white text-slate-700 hover:bg-slate-100 border border-slate-200 shadow-sm transition-all ${showHiddenTasks ? 'bg-blue-50 text-blue-600 border-blue-200' : ''}`}
       | ^^^^^^^
>  902 |             title={showHiddenTasks ? "Ocultar tareas escondidas" : "Mostrar tareas escondidas"}
       | ^^^^^^^
>  903 |           >
       | ^^^^^^^
>  904 |             {showHiddenTasks ? <Eye className="w-4 h-4 mr-2" /> : <EyeOff className="w-4 h-4 mr-2" />}
       | ^^^^^^^
>  905 |             {showHiddenTasks ? "Ocultar" : "Mostrar"}
       | ^^^^^^^
>  906 |           </Button>
       | ^^^^^^^
>  907 |           <Button
       | ^^^^^^^
>  908 |             onClick={() => setViewMode(viewMode === 'kanban' ? 'gantt' : 'kanban')}
       | ^^^^^^^
>  909 |             variant="ghost"
       | ^^^^^^^
>  910 |             size="sm"
       | ^^^^^^^
>  911 |             className={`${viewMode === 'gantt'
       | ^^^^^^^
>  912 |               ? 'bg-blue-500 text-white hover:bg-blue-600'
       | ^^^^^^^
>  913 |               : 'bg-white text-slate-700 hover:bg-slate-100'
       | ^^^^^^^
>  914 |               } border border-slate-200 shadow-sm transition-all`}
       | ^^^^^^^
>  915 |           >
       | ^^^^^^^
>  916 |             <BarChart3 className="w-4 h-4 mr-2" />
       | ^^^^^^^
>  917 |             {viewMode === 'kanban' ? 'Ganttifícalo' : 'Kanban'}
       | ^^^^^^^
>  918 |           </Button>
       | ^^^^^^^
>  919 |           {viewMode === 'gantt' && (
       | ^^^^^^^
>  920 |             <Button
       | ^^^^^^^
>  921 |               onClick={() => window.print()}
       | ^^^^^^^
>  922 |               variant="ghost"
       | ^^^^^^^
>  923 |               size="sm"
       | ^^^^^^^
>  924 |               className="bg-white text-slate-700 hover:bg-slate-100 border border-slate-200 shadow-sm transition-all"
       | ^^^^^^^
>  925 |               title="Imprimir Gantt a PDF"
       | ^^^^^^^
>  926 |             >
       | ^^^^^^^
>  927 |               <Printer className="w-4 h-4 mr-2" />
       | ^^^^^^^
>  928 |               Imprimir
       | ^^^^^^^
>  929 |             </Button>
       | ^^^^^^^
>  930 |           )}
       | ^^^^^^^
>  931 |           {viewMode === 'gantt' && (
       | ^^^^^^^
>  932 |             <Button
       | ^^^^^^^
>  933 |               onClick={handleExportExcel}
       | ^^^^^^^
>  934 |               variant="ghost"
       | ^^^^^^^
>  935 |               size="sm"
       | ^^^^^^^
>  936 |               className="bg-white text-slate-700 hover:bg-slate-100 border border-slate-200 shadow-sm transition-all"
       | ^^^^^^^
>  937 |               title="Descargar Excel"
       | ^^^^^^^
>  938 |             >
       | ^^^^^^^
>  939 |               <FileSpreadsheet className="w-4 h-4 mr-2" />
       | ^^^^^^^
>  940 |               Excel
       | ^^^^^^^
>  941 |             </Button>
       | ^^^^^^^
>  942 |           )}
       | ^^^^^^^
>  943 |           {can(PERMISSIONS.MANAGE_PROJECT) && (
       | ^^^^^^^
>  944 |             <>
       | ^^^^^^^
>  945 |               <Button
       | ^^^^^^^
>  946 |                 onClick={() => setIsSettingsOpen(true)}
       | ^^^^^^^
>  947 |                 variant="ghost"
       | ^^^^^^^
>  948 |                 size="sm"
       | ^^^^^^^
>  949 |                 className="bg-white text-slate-700 hover:bg-slate-100 border border-slate-200 shadow-sm"
       | ^^^^^^^
>  950 |               >
       | ^^^^^^^
>  951 |                 <Settings className="w-4 h-4 mr-2" />
       | ^^^^^^^
>  952 |                 Settings
       | ^^^^^^^
>  953 |               </Button>
       | ^^^^^^^
>  954 |               {/* Add Column Button - Only for Managers */}
       | ^^^^^^^
>  955 |               {can(PERMISSIONS.MANAGE_PROJECT) && (
       | ^^^^^^^
>  956 |                 <Button onClick={handleAddColumn} className="btn-primary">Add Column</Button>
       | ^^^^^^^
>  957 |               )}
       | ^^^^^^^
>  958 |             </>
       | ^^^^^^^
>  959 |           )}
       | ^^^^^^^
>  960 |         </div>
       | ^^^^^^^
>  961 |       </div>
       | ^^^^^^^
>  962 |
       | ^^^^^^^
>  963 |       {/* Content Area - Show loading only if initial load */}
       | ^^^^^^^
>  964 |       {!fetchedColumns && columns.length === 0 ? (
       | ^^^^^^^
>  965 |         <div className="flex-1 flex items-center justify-center">
       | ^^^^^^^
>  966 |           <div>Loading...</div>
       | ^^^^^^^
>  967 |         </div>
       | ^^^^^^^
>  968 |       ) : (
       | ^^^^^^^
>  969 |         <div className="flex-1 overflow-hidden">
       | ^^^^^^^
>  970 |
       | ^^^^^^^
>  971 |           {/* Conditional View: Kanban or Gantt */}
       | ^^^^^^^
>  972 |           {viewMode === 'kanban' ? (
       | ^^^^^^^
>  973 |             <DndContext
       | ^^^^^^^
>  974 |               sensors={sensors}
       | ^^^^^^^
>  975 |               collisionDetection={pointerWithin}
       | ^^^^^^^
>  976 |               onDragStart={onDragStart}
       | ^^^^^^^
>  977 |               onDragEnd={onDragEnd}
       | ^^^^^^^
>  978 |               onDragOver={onDragOver}
       | ^^^^^^^
>  979 |             >
       | ^^^^^^^
>  980 |               <div className="h-full overflow-x-auto overflow-y-hidden px-8 pt-8 pb-10 bg-neutral-50">
       | ^^^^^^^
>  981 |                 <SortableContext items={columnsId}>
       | ^^^^^^^
>  982 |                   <div className="flex gap-4 h-full">
       | ^^^^^^^
>  983 |                     {columns.map((col) => {
       | ^^^^^^^
>  984 |                       // Filter tasks for this column
       | ^^^^^^^
>  985 |                       const columnTasks = visibleTasks
       | ^^^^^^^
>  986 |                         .filter(task => task.columnId === col.id && filteredTaskIds.has(task.id))
       | ^^^^^^^
>  987 |                         .sort((a, b) => a.order - b.order);
       | ^^^^^^^
>  988 |
       | ^^^^^^^
>  989 |                       return (
       | ^^^^^^^
>  990 |                         <Column
       | ^^^^^^^
>  991 |                           key={col.id}
       | ^^^^^^^
>  992 |                           id={col.id}
       | ^^^^^^^
>  993 |                           title={col.name}
       | ^^^^^^^
>  994 |                           color={col.color}
       | ^^^^^^^
>  995 |                           cardColor={col.cardColor}
       | ^^^^^^^
>  996 |                           tasks={columnTasks}
       | ^^^^^^^
>  997 |                           onEditName={handleEditColumnName}
       | ^^^^^^^
>  998 |                           onDelete={handleDeleteColumn}
       | ^^^^^^^
>  999 |                           onCreateTask={handleCreateTask}
       | ^^^^^^^
> 1000 |                           onTaskClick={handleTaskClick}
       | ^^^^^^^
> 1001 |                           onColorChange={handleColorChange}
       | ^^^^^^^
> 1002 |                           onProgressChange={handleProgressChange} // Pass handler
       | ^^^^^^^
> 1003 |                           collapsedTasks={collapsedTasks}
       | ^^^^^^^
> 1004 |                           onToggleCollapse={toggleTaskCollapse}
       | ^^^^^^^
> 1005 |                           onToggleHide={toggleTaskHide}
       | ^^^^^^^
> 1006 |                           hiddenTasks={hiddenTasks}
       | ^^^^^^^
> 1007 |                           onToggleGanttVisibility={handleToggleGanttVisibility} // New prop
       | ^^^^^^^
> 1008 |                         />
       | ^^^^^^^
> 1009 |                       );
       | ^^^^^^^
> 1010 |                     })}
       | ^^^^^^^
> 1011 |                   </div>
       | ^^^^^^^
> 1012 |                 </SortableContext>
       | ^^^^^^^
> 1013 |               </div>
       | ^^^^^^^
> 1014 |               {createPortal(
       | ^^^^^^^
> 1015 |                 <DragOverlay>
       | ^^^^^^^
> 1016 |                   {activeItem && activeItem.data.current?.type === "Task" && activeTaskContent ? (
       | ^^^^^^^
> 1017 |                     <Task
       | ^^^^^^^
> 1018 |                       id={activeTaskContent.id}
       | ^^^^^^^
> 1019 |                       title={activeTaskContent.title} // Pass title here
       | ^^^^^^^
> 1020 |                       subtasksCount={activeTaskContent.children?.length || 0}
       | ^^^^^^^
> 1021 |                     />
       | ^^^^^^^
> 1022 |                   ) : null}
       | ^^^^^^^
> 1023 |                   {activeItem && activeItem.data.current?.type === "Column" ? (
       | ^^^^^^^
> 1024 |                     <div className="column dragging">
       | ^^^^^^^
> 1025 |                       <h2 className="column-title">{findColumn(activeItem.id.toString())?.name}</h2>
       | ^^^^^^^
> 1026 |                       {/* Optionally render tasks in the dragged column */}
       | ^^^^^^^
> 1027 |                     </div>
       | ^^^^^^^
> 1028 |                   ) : null}
       | ^^^^^^^
> 1029 |                 </DragOverlay>,
       | ^^^^^^^
> 1030 |                 document.body
       | ^^^^^^^
> 1031 |               )}
       | ^^^^^^^
> 1032 |             </DndContext>
       | ^^^^^^^
> 1033 |           ) : (
       | ^^^^^^^
> 1034 |             <div className="h-full px-8 pt-8 pb-10 gantt-print-container">
       | ^^^^^^^
> 1035 |               <GanttChart
       | ^^^^^^^
> 1036 |                 tasks={filteredTasks}
       | ^^^^^^^
> 1037 |                 columns={columns}
       | ^^^^^^^
> 1038 |                 onTaskClick={handleTaskClick}
       | ^^^^^^^
> 1039 |                 onTaskUpdate={mutate}
       | ^^^^^^^
> 1040 |               />
       | ^^^^^^^
> 1041 |             </div>
       | ^^^^^^^
> 1042 |           )}
       | ^^^^^^^
> 1043 |         </div>
       | ^^^^^^^
> 1044 |       )}
       | ^^^^^^^
> 1045 |     </div>
       | ^^^^^^^
> 1046 |     {/* Project Settings Modal */}
       | ^^^^^^^
> 1047 |     {isSettingsOpen && createPortal(
       | ^^^^^^^
> 1048 |       <div className="fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm">
       | ^^^^^^^
> 1049 |         <div className="bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto relative">
       | ^^^^^^^
> 1050 |           <button
       | ^^^^^^^
> 1051 |             onClick={() => setIsSettingsOpen(false)}
       | ^^^^^^^
> 1052 |             className="absolute top-4 right-4 text-gray-500 hover:text-gray-700"
       | ^^^^^^^
> 1053 |           >
       | ^^^^^^^
> 1054 |             <X size={24} />
       | ^^^^^^^
> 1055 |           </button>
       | ^^^^^^^
> 1056 |           <div className="p-6">
       | ^^^^^^^
> 1057 |             <ProjectSettings projectId={projectId} />
       | ^^^^^^^
> 1058 |           </div>
       | ^^^^^^^
> 1059 |         </div>
       | ^^^^^^^
> 1060 |       </div>,
       | ^^^^^^^
> 1061 |       document.body
       | ^^^^^^^
> 1062 |     )}
       | ^^^^^^^
> 1063 |
       | ^^^^^^^
> 1064 |     {selectedTask && isModalOpen && (
       | ^^^^^^^
> 1065 |       <TaskDetailModal
       | ^^^^^^^
> 1066 |         key={selectedTask.id}
       | ^^^^^^^
> 1067 |         task={selectedTask}
       | ^^^^^^^
> 1068 |         onClose={handleCloseModal}
       | ^^^^^^^
> 1069 |         onTaskUpdate={handleTaskUpdate}
       | ^^^^^^^
> 1070 |         availableUsers={projectUsers}
       | ^^^^^^^
> 1071 |       />
       | ^^^^^^^
> 1072 |     )}
       | ^^^^^^^
> 1073 |   </div>
       | ^^^^^^^
> 1074 | );
       | ^^^
  1075 | }

Return statement is not allowed here

Import trace:
  Client Component Browser:
    ./src/components/kanban/KanbanBoard.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Server Component]
[05:32:50.418] Browser ERROR   ./src/components/kanban/KanbanBoard.tsx:301:8
Parsing ecmascript source code failed
  299 |       } else {
  300 |         return newSet;
> 301 |       });
      |        ^
  302 |   };
  303 |
  304 |   // Memoize task map for O(1) lookup

Expression expected

Import trace:
  Client Component Browser:
    ./src/components/kanban/KanbanBoard.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Server Component]
[05:32:50.418] Browser ERROR   ./src/components/kanban/TaskDetailModal.tsx:516:19
Parsing ecmascript source code failed
  514 |                     }
  515 |                   }}
> 516 |                   }}
      |                   ^
  517 |                 />
  518 |               </div>
  519 |             </div>

Expected '</', got '}'

Import trace:
  Client Component Browser:
    ./src/components/kanban/TaskDetailModal.tsx [Client Component Browser]
    ./src/components/kanban/KanbanBoard.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Server Component]
[05:32:50.418] Browser ERROR   ./src/components/kanban/KanbanBoard.tsx:305:6
Parsing ecmascript source code failed
  303 |       default:
  304 |         return tasks;
> 305 |     }, [tasks, activeFilter, customFilterCriteria, session?.user?.id]);
      |      ^
  306 |
  307 |   // Effect to sync columns when fetchedColumns changes
  308 |   // Removed: Handled by processedData useMemo and useEffect above

Expression expected

Import trace:
  Client Component Browser:
    ./src/components/kanban/KanbanBoard.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Server Component]
[05:32:50.418] Browser ERROR   ./src/components/kanban/KanbanBoard.tsx:162:3
Parsing ecmascript source code failed
  160 |   };
  161 |
> 162 |   export function KanbanBoard({ projectId }: KanbanBoardProps) {
      |   ^^^^^^
  163 |     const { data: session } = useSession();
  164 |     const { can } = usePermissions(projectId);
  165 |     const { data: fetchedColumns, error: columnsError, mutate: mutateColumns } = useSWR<FetchedColumn[]>(

'import', and 'export' cannot be used outside of module code

Import trace:
  Client Component Browser:
    ./src/components/kanban/KanbanBoard.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Server Component]
[05:32:50.418] Browser ERROR   ./src/components/kanban/ProjectStatisticsModal.tsx:98:27
Parsing ecmascript source code failed
   96 |             <button
   97 |               onClick={() => setViewMode('status')}
>  98 |               className={`px - 3 py - 1.5 rounded - md text - xs sm: text - sm font - medium transition - all flex items - center gap - 2 whitespace - nowrap ${
      |                           ^^
   99 |     viewMode === 'status'
  100 |         ? 'bg-white text-blue-600 shadow-sm'
  101 |         : 'text-gray-500 hover:text-gray-700'

Expected ';', '}' or <eof>

Import trace:
  Client Component Browser:
    ./src/components/kanban/ProjectStatisticsModal.tsx [Client Component Browser]
    ./src/components/kanban/KanbanBoard.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Server Component]
[05:32:50.418] Browser ERROR   ./src/components/kanban/ProjectStatisticsModal.tsx:98:27
Parsing ecmascript source code failed
   96 |             <button
   97 |               onClick={() => setViewMode('status')}
>  98 |               className={`px - 3 py - 1.5 rounded - md text - xs sm: text - sm font - medium transition - all flex items - center gap - 2 whitespace - nowrap ${
      |                           ^^
   99 |     viewMode === 'status'
  100 |         ? 'bg-white text-blue-600 shadow-sm'
  101 |         : 'text-gray-500 hover:text-gray-700'

Expected ';', '}' or <eof>

Import trace:
  Client Component Browser:
    ./src/components/kanban/ProjectStatisticsModal.tsx [Client Component Browser]
    ./src/components/kanban/KanbanBoard.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Server Component]
[05:32:50.418] Browser ERROR   ./src/components/kanban/KanbanBoard.tsx:967:1
Parsing ecmascript source code failed
   965 |   : null;
   966 |
>  967 | return (
       | ^^^^^^^^
>  968 |   <div>
       | ^^^^^^^
>  969 |     <div className="flex flex-col h-screen">
       | ^^^^^^^
>  970 |       {/* Header - Always visible */}
       | ^^^^^^^
>  971 |       <div className="header">
       | ^^^^^^^
>  972 |         <Link href="/dashboard" className="header-title hover:text-gray-300 transition-colors">
       | ^^^^^^^
>  973 |           {"< Project"}
       | ^^^^^^^
>  974 |         </Link>
       | ^^^^^^^
>  975 |         <div className="flex items-center gap-2">
       | ^^^^^^^
>  976 |           {/* Filter Bar integrated into header */}
       | ^^^^^^^
>  977 |           <div className="mr-4">
       | ^^^^^^^
>  978 |             <FilterBar
       | ^^^^^^^
>  979 |               projectId={projectId}
       | ^^^^^^^
>  980 |               currentUserId={session?.user?.id || ""}
       | ^^^^^^^
>  981 |               activeFilter={activeFilter}
       | ^^^^^^^
>  982 |               onFilterChange={(filter, criteria) => {
       | ^^^^^^^
>  983 |                 setActiveFilter(filter);
       | ^^^^^^^
>  984 |                 setCustomFilterCriteria(criteria || null);
       | ^^^^^^^
>  985 |               }}
       | ^^^^^^^
>  986 |               availableUsers={projectUsers}
       | ^^^^^^^
>  987 |               availableColumns={columns.map(col => ({ id: col.id, name: col.name }))}
       | ^^^^^^^
>  988 |             />
       | ^^^^^^^
>  989 |           </div>
       | ^^^^^^^
>  990 |           {/* Show Archived Tasks Toggle */}
       | ^^^^^^^
>  991 |           <Button
       | ^^^^^^^
>  992 |             onClick={() => setShowArchivedTasks(!showArchivedTasks)}
       | ^^^^^^^
>  993 |             variant="ghost"
       | ^^^^^^^
>  994 |             size="sm"
       | ^^^^^^^
>  995 |             className={`bg-white text-slate-700 hover:bg-slate-100 border border-slate-200 shadow-sm transition-all ${showArchivedTasks ? 'bg-amber-50 text-amber-600 border-amber-200' : ''}`}
       | ^^^^^^^
>  996 |             title={showArchivedTasks ? "Volver a tareas activas" : "Ver tareas archivadas"}
       | ^^^^^^^
>  997 |           >
       | ^^^^^^^
>  998 |             <Archive className="w-4 h-4 mr-2" />
       | ^^^^^^^
>  999 |             {showArchivedTasks ? "Activas" : "Archivadas"}
       | ^^^^^^^
> 1000 |           </Button>
       | ^^^^^^^
> 1001 |           {/* Show Hidden Tasks Toggle */}
       | ^^^^^^^
> 1002 |           <Button
       | ^^^^^^^
> 1003 |             onClick={() => setShowHiddenTasks(!showHiddenTasks)}
       | ^^^^^^^
> 1004 |             variant="ghost"
       | ^^^^^^^
> 1005 |             size="sm"
       | ^^^^^^^
> 1006 |             className={`bg-white text-slate-700 hover:bg-slate-100 border border-slate-200 shadow-sm transition-all ${showHiddenTasks ? 'bg-blue-50 text-blue-600 border-blue-200' : ''}`}
       | ^^^^^^^
> 1007 |             title={showHiddenTasks ? "Ocultar tareas escondidas" : "Mostrar tareas escondidas"}
       | ^^^^^^^
> 1008 |           >
       | ^^^^^^^
> 1009 |             {showHiddenTasks ? <Eye className="w-4 h-4 mr-2" /> : <EyeOff className="w-4 h-4 mr-2" />}
       | ^^^^^^^
> 1010 |             {showHiddenTasks ? "Ocultar" : "Mostrar"}
       | ^^^^^^^
> 1011 |           </Button>
       | ^^^^^^^
> 1012 |           <Button
       | ^^^^^^^
> 1013 |             onClick={() => setViewMode(viewMode === 'kanban' ? 'gantt' : 'kanban')}
       | ^^^^^^^
> 1014 |             variant="ghost"
       | ^^^^^^^
> 1015 |             size="sm"
       | ^^^^^^^
> 1016 |             className={`${viewMode === 'gantt'
       | ^^^^^^^
> 1017 |               ? 'bg-blue-500 text-white hover:bg-blue-600'
       | ^^^^^^^
> 1018 |               : 'bg-white text-slate-700 hover:bg-slate-100'
       | ^^^^^^^
> 1019 |               } border border-slate-200 shadow-sm transition-all`}
       | ^^^^^^^
> 1020 |           >
       | ^^^^^^^
> 1021 |             <BarChart3 className="w-4 h-4 mr-2" />
       | ^^^^^^^
> 1022 |             {viewMode === 'kanban' ? 'Ganttifícalo' : 'Kanban'}
       | ^^^^^^^
> 1023 |           </Button>
       | ^^^^^^^
> 1024 |           {viewMode === 'gantt' && (
       | ^^^^^^^
> 1025 |             <Button
       | ^^^^^^^
> 1026 |               onClick={() => window.print()}
       | ^^^^^^^
> 1027 |               variant="ghost"
       | ^^^^^^^
> 1028 |               size="sm"
       | ^^^^^^^
> 1029 |               className="bg-white text-slate-700 hover:bg-slate-100 border border-slate-200 shadow-sm transition-all"
       | ^^^^^^^
> 1030 |               title="Imprimir Gantt a PDF"
       | ^^^^^^^
> 1031 |             >
       | ^^^^^^^
> 1032 |               <Printer className="w-4 h-4 mr-2" />
       | ^^^^^^^
> 1033 |               Imprimir
       | ^^^^^^^
> 1034 |             </Button>
       | ^^^^^^^
> 1035 |           )}
       | ^^^^^^^
> 1036 |           {viewMode === 'gantt' && (
       | ^^^^^^^
> 1037 |             <Button
       | ^^^^^^^
> 1038 |               onClick={handleExportExcel}
       | ^^^^^^^
> 1039 |               variant="ghost"
       | ^^^^^^^
> 1040 |               size="sm"
       | ^^^^^^^
> 1041 |               className="bg-white text-slate-700 hover:bg-slate-100 border border-slate-200 shadow-sm transition-all"
       | ^^^^^^^
> 1042 |               title="Descargar Excel"
       | ^^^^^^^
> 1043 |             >
       | ^^^^^^^
> 1044 |               <FileSpreadsheet className="w-4 h-4 mr-2" />
       | ^^^^^^^
> 1045 |               Excel
       | ^^^^^^^
> 1046 |             </Button>
       | ^^^^^^^
> 1047 |           )}
       | ^^^^^^^
> 1048 |
       | ^^^^^^^
> 1049 |           {/* Statistics Button */}
       | ^^^^^^^
> 1050 |           <Button
       | ^^^^^^^
> 1051 |             onClick={() => setIsStatsModalOpen(true)}
       | ^^^^^^^
> 1052 |             variant="ghost"
       | ^^^^^^^
> 1053 |             size="sm"
       | ^^^^^^^
> 1054 |             className="bg-white text-slate-700 hover:bg-slate-100 border border-slate-200 shadow-sm transition-all"
       | ^^^^^^^
> 1055 |             title="Ver Estadísticas"
       | ^^^^^^^
> 1056 |           >
       | ^^^^^^^
> 1057 |             <PieChartIcon className="w-4 h-4 mr-2" />
       | ^^^^^^^
> 1058 |             Estadísticas
       | ^^^^^^^
> 1059 |           </Button>
       | ^^^^^^^
> 1060 |           {can(PERMISSIONS.MANAGE_PROJECT) && (
       | ^^^^^^^
> 1061 |             <>
       | ^^^^^^^
> 1062 |               <Button
       | ^^^^^^^
> 1063 |                 onClick={() => setIsSettingsOpen(true)}
       | ^^^^^^^
> 1064 |                 variant="ghost"
       | ^^^^^^^
> 1065 |                 size="sm"
       | ^^^^^^^
> 1066 |                 className="bg-white text-slate-700 hover:bg-slate-100 border border-slate-200 shadow-sm"
       | ^^^^^^^
> 1067 |               >
       | ^^^^^^^
> 1068 |                 <Settings className="w-4 h-4 mr-2" />
       | ^^^^^^^
> 1069 |                 Settings
       | ^^^^^^^
> 1070 |               </Button>
       | ^^^^^^^
> 1071 |               {/* Add Column Button - Only for Managers */}
       | ^^^^^^^
> 1072 |               {can(PERMISSIONS.MANAGE_PROJECT) && (
       | ^^^^^^^
> 1073 |                 <Button onClick={handleAddColumn} className="btn-primary">Add Column</Button>
       | ^^^^^^^
> 1074 |               )}
       | ^^^^^^^
> 1075 |             </>
       | ^^^^^^^
> 1076 |           )}
       | ^^^^^^^
> 1077 |         </div>
       | ^^^^^^^
> 1078 |       </div>
       | ^^^^^^^
> 1079 |
       | ^^^^^^^
> 1080 |       {/* Content Area - Show loading only if initial load */}
       | ^^^^^^^
> 1081 |       {!fetchedColumns && columns.length === 0 ? (
       | ^^^^^^^
> 1082 |         <div className="flex-1 flex items-center justify-center">
       | ^^^^^^^
> 1083 |           <div>Loading...</div>
       | ^^^^^^^
> 1084 |         </div>
       | ^^^^^^^
> 1085 |       ) : (
       | ^^^^^^^
> 1086 |         <div className="flex-1 overflow-hidden">
       | ^^^^^^^
> 1087 |
       | ^^^^^^^
> 1088 |           {/* Conditional View: Kanban or Gantt */}
       | ^^^^^^^
> 1089 |           {viewMode === 'kanban' ? (
       | ^^^^^^^
> 1090 |             <DndContext
       | ^^^^^^^
> 1091 |               sensors={sensors}
       | ^^^^^^^
> 1092 |               collisionDetection={pointerWithin}
       | ^^^^^^^
> 1093 |               onDragStart={onDragStart}
       | ^^^^^^^
> 1094 |               onDragEnd={onDragEnd}
       | ^^^^^^^
> 1095 |               onDragOver={onDragOver}
       | ^^^^^^^
> 1096 |             >
       | ^^^^^^^
> 1097 |               <div className="h-full overflow-x-auto overflow-y-hidden px-8 pt-8 pb-10 bg-neutral-50">
       | ^^^^^^^
> 1098 |                 <SortableContext items={columnsId}>
       | ^^^^^^^
> 1099 |                   <div className="flex gap-4 h-full">
       | ^^^^^^^
> 1100 |                     {columns.map((col) => {
       | ^^^^^^^
> 1101 |                       // Filter tasks for this column
       | ^^^^^^^
> 1102 |                       const columnTasks = visibleTasks
       | ^^^^^^^
> 1103 |                         .filter(task => task.columnId === col.id && filteredTaskIds.has(task.id))
       | ^^^^^^^
> 1104 |                         .sort((a, b) => (a.sortKey || "").localeCompare(b.sortKey || ""));
       | ^^^^^^^
> 1105 |
       | ^^^^^^^
> 1106 |                       return (
       | ^^^^^^^
> 1107 |                         <Column
       | ^^^^^^^
> 1108 |                           key={col.id}
       | ^^^^^^^
> 1109 |                           id={col.id}
       | ^^^^^^^
> 1110 |                           title={col.name}
       | ^^^^^^^
> 1111 |                           color={col.color}
       | ^^^^^^^
> 1112 |                           cardColor={col.cardColor}
       | ^^^^^^^
> 1113 |                           tasks={columnTasks}
       | ^^^^^^^
> 1114 |                           onEditName={handleEditColumnName}
       | ^^^^^^^
> 1115 |                           onDelete={handleDeleteColumn}
       | ^^^^^^^
> 1116 |                           onCreateTask={handleCreateTask}
       | ^^^^^^^
> 1117 |                           onTaskClick={handleTaskClick}
       | ^^^^^^^
> 1118 |                           onColorChange={handleColorChange}
       | ^^^^^^^
> 1119 |                           onProgressChange={handleProgressChange} // Pass handler
       | ^^^^^^^
> 1120 |                           collapsedTasks={collapsedTasks}
       | ^^^^^^^
> 1121 |                           onToggleCollapse={toggleTaskCollapse}
       | ^^^^^^^
> 1122 |                           onToggleHide={toggleTaskHide}
       | ^^^^^^^
> 1123 |                           hiddenTasks={hiddenTasks}
       | ^^^^^^^
> 1124 |                           onToggleGanttVisibility={handleToggleGanttVisibility} // New prop
       | ^^^^^^^
> 1125 |                         />
       | ^^^^^^^
> 1126 |                       );
       | ^^^^^^^
> 1127 |                     })}
       | ^^^^^^^
> 1128 |                   </div>
       | ^^^^^^^
> 1129 |                 </SortableContext>
       | ^^^^^^^
> 1130 |               </div>
       | ^^^^^^^
> 1131 |               {createPortal(
       | ^^^^^^^
> 1132 |                 <DragOverlay>
       | ^^^^^^^
> 1133 |                   {activeItem && activeItem.data.current?.type === "Task" && activeTaskContent ? (
       | ^^^^^^^
> 1134 |                     <Task
       | ^^^^^^^
> 1135 |                       id={activeTaskContent.id}
       | ^^^^^^^
> 1136 |                       title={activeTaskContent.title} // Pass title here
       | ^^^^^^^
> 1137 |                       subtasksCount={activeTaskContent.children?.length || 0}
       | ^^^^^^^
> 1138 |                     />
       | ^^^^^^^
> 1139 |                   ) : null}
       | ^^^^^^^
> 1140 |                   {activeItem && activeItem.data.current?.type === "Column" ? (
       | ^^^^^^^
> 1141 |                     <div className="column dragging">
       | ^^^^^^^
> 1142 |                       <h2 className="column-title">{findColumn(activeItem.id.toString())?.name}</h2>
       | ^^^^^^^
> 1143 |                       {/* Optionally render tasks in the dragged column */}
       | ^^^^^^^
> 1144 |                     </div>
       | ^^^^^^^
> 1145 |                   ) : null}
       | ^^^^^^^
> 1146 |                 </DragOverlay>,
       | ^^^^^^^
> 1147 |                 document.body
       | ^^^^^^^
> 1148 |               )}
       | ^^^^^^^
> 1149 |             </DndContext>
       | ^^^^^^^
> 1150 |           ) : (
       | ^^^^^^^
> 1151 |             <div className="h-full px-8 pt-8 pb-10 gantt-print-container">
       | ^^^^^^^
> 1152 |               <GanttChart
       | ^^^^^^^
> 1153 |                 tasks={tasks}
       | ^^^^^^^
> 1154 |                 columns={columns}
       | ^^^^^^^
> 1155 |                 onTaskClick={handleTaskClick}
       | ^^^^^^^
> 1156 |                 visibleTasks={visibleTasks} // Pass visible tasks to Gantt
       | ^^^^^^^
> 1157 |               />
       | ^^^^^^^
> 1158 |             </div>
       | ^^^^^^^
> 1159 |           )}
       | ^^^^^^^
> 1160 |         </div>
       | ^^^^^^^
> 1161 |       )}
       | ^^^^^^^
> 1162 |     </div>
       | ^^^^^^^
> 1163 |
       | ^^^^^^^
> 1164 |     {/* Modals */}
       | ^^^^^^^
> 1165 |     <ProjectStatisticsModal
       | ^^^^^^^
> 1166 |       isOpen={isStatsModalOpen}
       | ^^^^^^^
> 1167 |       onClose={() => setIsStatsModalOpen(false)}
       | ^^^^^^^
> 1168 |       tasks={tasks}
       | ^^^^^^^
> 1169 |     />
       | ^^^^^^^
> 1170 |
       | ^^^^^^^
> 1171 |     {selectedTask && isModalOpen && (
       | ^^^^^^^
> 1172 |       <TaskDetailModal
       | ^^^^^^^
> 1173 |         key={selectedTask.id}
       | ^^^^^^^
> 1174 |         task={selectedTask}
       | ^^^^^^^
> 1175 |         onClose={handleCloseModal}
       | ^^^^^^^
> 1176 |         onTaskUpdate={handleTaskUpdate}
       | ^^^^^^^
> 1177 |         availableUsers={projectUsers}
       | ^^^^^^^
> 1178 |       />
       | ^^^^^^^
> 1179 |     )}
       | ^^^^^^^
> 1180 |
       | ^^^^^^^
> 1181 |     {isSettingsOpen && createPortal(
       | ^^^^^^^
> 1182 |       <div className="fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm">
       | ^^^^^^^
> 1183 |         <div className="bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto relative">
       | ^^^^^^^
> 1184 |           <button
       | ^^^^^^^
> 1185 |             onClick={() => setIsSettingsOpen(false)}
       | ^^^^^^^
> 1186 |             className="absolute top-4 right-4 text-gray-500 hover:text-gray-700"
       | ^^^^^^^
> 1187 |           >
       | ^^^^^^^
> 1188 |             <X size={24} />
       | ^^^^^^^
> 1189 |           </button>
       | ^^^^^^^
> 1190 |           <div className="p-6">
       | ^^^^^^^
> 1191 |             <ProjectSettings projectId={projectId} />
       | ^^^^^^^
> 1192 |           </div>
       | ^^^^^^^
> 1193 |         </div>
       | ^^^^^^^
> 1194 |       </div>,
       | ^^^^^^^
> 1195 |       document.body
       | ^^^^^^^
> 1196 |     )}
       | ^^^^^^^
> 1197 |
       | ^^^^^^^
> 1198 |     {selectedTask && isModalOpen && (
       | ^^^^^^^
> 1199 |       <TaskDetailModal
       | ^^^^^^^
> 1200 |         key={selectedTask.id}
       | ^^^^^^^
> 1201 |         task={selectedTask}
       | ^^^^^^^
> 1202 |         onClose={handleCloseModal}
       | ^^^^^^^
> 1203 |         onTaskUpdate={handleTaskUpdate}
       | ^^^^^^^
> 1204 |         availableUsers={projectUsers}
       | ^^^^^^^
> 1205 |       />
       | ^^^^^^^
> 1206 |     )}
       | ^^^^^^^
> 1207 |   </div>
       | ^^^^^^^
> 1208 | );
       | ^^^
  1209 | }

Return statement is not allowed here

Import trace:
  Client Component Browser:
    ./src/components/kanban/KanbanBoard.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Client Component Browser]
    ./src/app/projects/[id]/page.tsx [Server Component]
[05:33:05.710] Server  LOG      ✓ Compiled in 686ms
[06:47:48.672] Server  LOG     prisma:error "Error in PostgreSQL connection: Error { kind: Closed, cause: None }"
[07:09:00.616] Server  LOG      ✓ Compiled in 439ms
[07:09:11.115] Server  LOG      ✓ Compiled in 426ms
[07:09:12.206] Browser ERROR   uncaughtError: ReferenceError: UserMenu is not defined
[07:09:27.579] Server  WARN     ⚠ Fast Refresh had to perform a full reload due to a runtime error.
[07:09:27.585] Server  LOG      ✓ Compiled in 161ms
[07:09:28.637] Server  WARN    [next-auth][warn][DEBUG_ENABLED] "\nhttps://next-auth.js.org/warnings#debug_enabled"
[07:09:28.721] Server  LOG     JWT Callback - Token: {}
[07:09:28.723] Server  LOG     JWT Callback - User: undefined
[07:09:28.727] Server  LOG     Session Callback - Session: {}
[07:09:28.728] Server  LOG     Session Callback - Token: {}
[07:09:33.968] Browser INFO    %cDownload the React DevTools for a better development experience: https://react.dev/link/react-devtools font-weight:bold
[07:09:35.902] Server  LOG     JWT Callback - Token: {}
[07:09:35.904] Server  LOG     JWT Callback - User: undefined
[07:09:35.905] Server  LOG     Session Callback - Session: {}
[07:09:35.906] Server  LOG     Session Callback - Token: {}
[07:09:36.132] Server  LOG     JWT Callback - Token: {}
[07:09:36.132] Server  LOG     JWT Callback - User: undefined
[07:09:36.135] Server  LOG     Session Callback - Session: {}
[07:09:36.136] Server  LOG     Session Callback - Token: {}
[07:09:38.136] Browser ERROR   uncaughtError: ReferenceError: UserMenu is not defined
[07:09:42.833] Server  LOG      ✓ Compiled in 1614ms
[07:09:42.918] Server  WARN     ⚠ Fast Refresh had to perform a full reload due to a runtime error.
[07:09:47.031] Browser INFO    %cDownload the React DevTools for a better development experience: https://react.dev/link/react-devtools font-weight:bold
[07:09:47.252] Server  LOG     JWT Callback - Token: {}
[07:09:47.252] Server  LOG     JWT Callback - User: undefined
[07:09:47.253] Server  LOG     Session Callback - Session: {}
[07:09:47.253] Server  LOG     Session Callback - Token: {}
[07:09:47.283] Server  LOG     JWT Callback - Token: {}
[07:09:47.283] Server  LOG     JWT Callback - User: undefined
[07:09:47.284] Server  LOG     Session Callback - Session: {}
[07:09:47.284] Server  LOG     Session Callback - Token: {}
[07:12:56.824] Server  LOG      ✓ Compiled in 336ms
[07:12:59.512] Server  LOG      ✓ Compiled in 166ms
[07:13:08.765] Server  LOG      ✓ Compiled in 412ms
[07:13:35.772] Server  LOG      ✓ Compiled in 237ms
[07:14:25.772] Server  LOG     JWT Callback - Token: {}
[07:14:25.773] Server  LOG     JWT Callback - User: undefined
[07:14:25.774] Server  LOG     Session Callback - Session: {}
[07:14:25.776] Server  LOG     Session Callback - Token: {}
[07:16:05.931] Server  LOG      ✓ Compiled in 250ms
[07:24:30.127] Server  LOG      ✓ Compiled in 460ms
[07:24:43.660] Server  LOG      ✓ Compiled in 253ms
[07:27:28.566] Server  LOG      ✓ Compiled in 670ms
[07:34:44.027] Server  LOG      ✓ Compiled in 938ms
[07:42:50.066] Server  LOG     JWT Callback - Token: {}
[07:42:50.068] Server  LOG     JWT Callback - User: undefined
[07:42:50.070] Server  LOG     Session Callback - Session: {}
[07:42:50.131] Server  LOG     Session Callback - Token: {}
[07:43:23.236] Server  WARN     ⚠ Fast Refresh had to perform a full reload due to a runtime error.
[07:43:23.872] Server  LOG     JWT Callback - Token: {}
[07:43:23.877] Server  LOG     JWT Callback - User: undefined
[07:43:23.894] Server  LOG     Session Callback - Session: {}
[07:43:23.895] Server  LOG     Session Callback - Token: {}
[07:43:23.912] Browser ERROR   uncaughtError: ReferenceError: Can't find variable: UserMenu
[07:43:25.628] Server  WARN     ⚠ Fast Refresh had to perform a full reload due to a runtime error.
[07:43:33.864] Server  WARN     ⚠ Fast Refresh had to perform a full reload due to a runtime error.
[07:43:33.875] Server  WARN     ⚠ Fast Refresh had to perform a full reload due to a runtime error.
[07:43:33.875] Browser ERROR   unhandledRejection: undefined
[07:43:33.875] Server  WARN     ⚠ Fast Refresh had to perform a full reload due to a runtime error.
[07:43:48.617] Server  LOG      ✓ Compiled in 470ms
[07:43:57.907] Server  LOG      ✓ Compiled in 7ms
[07:43:57.988] Server  LOG     JWT Callback - Token: {}
[07:43:57.991] Server  LOG     JWT Callback - User: undefined
[07:43:57.993] Server  LOG     Session Callback - Session: {}
[07:43:57.994] Server  LOG     Session Callback - Token: {}
[07:43:58.111] Server  LOG     JWT Callback - Token: {}
[07:43:58.111] Server  LOG     JWT Callback - User: undefined
[07:43:58.111] Server  LOG     Session Callback - Session: {}
[07:43:58.112] Server  LOG     Session Callback - Token: {}
[07:44:06.925] Server  LOG      ○ Compiling /projects/new ...
[07:44:25.276] Server  LOG     JWT Callback - Token: {}
[07:44:25.276] Server  LOG     JWT Callback - User: undefined
[07:44:25.277] Server  LOG     Session Callback - Session: {}
[07:44:25.277] Server  LOG     Session Callback - Token: {}
[07:44:35.234] Server  LOG     JWT Callback - Token: {}
[07:44:35.235] Server  LOG     JWT Callback - User: undefined
[07:44:35.236] Server  LOG     Session Callback - Session: {}
[07:44:35.236] Server  LOG     Session Callback - Token: {}
[07:44:41.265] Server  LOG     JWT Callback - Token: {}
[07:44:41.270] Server  LOG     JWT Callback - User: undefined
[07:44:41.273] Server  LOG     Session Callback - Session: {}
[07:44:41.274] Server  LOG     Session Callback - Token: {}
[07:44:41.775] Server  LOG     JWT Callback - Token: {}
[07:44:41.776] Server  LOG     JWT Callback - User: undefined
[07:44:41.776] Server  LOG     Session Callback - Session: {}
[07:44:41.776] Server  LOG     Session Callback - Token: {}
[07:44:46.088] Server  LOG      ✓ Compiled in 1351ms
