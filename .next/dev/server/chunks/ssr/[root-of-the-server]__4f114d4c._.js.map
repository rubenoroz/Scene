{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///Users/rubenoroz/scena-v1/src/app/dashboard/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useSession } from \"next-auth/react\";\nimport { useRouter } from \"next/navigation\";\nimport { useEffect, useState } from \"react\";\nimport Link from \"next/link\";\nimport { Button } from \"@/components/ui/button\";\nimport { PlusCircle } from \"lucide-react\";\n\ninterface Project {\n  id: string;\n  name: string;\n  description: string | null;\n}\n\nexport default function DashboardPage() {\n  const { data: session, status } = useSession();\n  const router = useRouter();\n  const [projects, setProjects] = useState<Project[]>([]);\n  const [loadingProjects, setLoadingProjects] = useState(true);\n\n  useEffect(() => {\n    console.log(\"DashboardPage useEffect - status:\", status, \"session:\", session);\n    if (status === \"unauthenticated\") {\n      router.push(\"/\");\n    }\n  }, [status, router, session]);\n\n  useEffect(() => {\n    if (session?.user?.id) {\n      const fetchProjects = async () => {\n        try {\n          const response = await fetch(`/api/projects?userId=${session.user.id}`);\n          if (!response.ok) {\n            throw new Error(\"Failed to fetch projects\");\n          }\n          const data = await response.json();\n          setProjects(data);\n        } catch (error) {\n          console.error(\"Error fetching projects:\", error);\n        } finally {\n          setLoadingProjects(false);\n        }\n      };\n      fetchProjects();\n    }\n  }, [session?.user?.id]);\n\n  if (status === \"loading\" || loadingProjects) {\n    return (\n      <div className=\"flex h-screen items-center justify-center bg-neutral-50\">\n        <p className=\"text-lg text-neutral-500\">Cargando Dashboard...</p>\n      </div>\n    );\n  }\n\n  if (!session) {\n    return null;\n  }\n\n  const colors = ['bg-green-100', 'bg-purple-100', 'bg-orange-100', 'bg-blue-100', 'bg-pink-100', 'bg-yellow-100'];\n\n  return (\n    <div className=\"min-h-screen bg-neutral-50\">\n      <div className=\"px-8 pt-12 pb-10 text-neutral-800 font-sans\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between mb-12\">\n          <div>\n            <h1 className=\"text-4xl font-bold tracking-tight text-neutral-900\">Mis Proyectos</h1>\n            <p className=\"text-neutral-500 mt-1\">Gestiona y organiza todos tus proyectos</p>\n          </div>\n          <Link href=\"/projects/new\">\n            <button className=\"px-4 py-2 rounded-lg bg-blue-200 text-neutral-900 font-medium hover:bg-blue-300 transition-all text-sm\">\n              Nuevo proyecto\n            </button>\n          </Link>\n        </div>\n\n        {/* Grid de proyectos */}\n        {projects.length === 0 ? (\n          <div className=\"text-center py-20\">\n            <div className=\"bg-white rounded-2xl shadow-sm border border-neutral-200 p-12 max-w-md mx-auto\">\n              <h2 className=\"text-2xl font-bold text-neutral-900 mb-2\">\n                Comienza tu primer proyecto\n              </h2>\n              <p className=\"text-neutral-500 mb-6\">\n                Aún no tienes proyectos. ¡Crea uno para empezar!\n              </p>\n              <Link href=\"/projects/new\">\n                <button className=\"px-4 py-2 rounded-lg bg-blue-200 text-neutral-900 font-medium hover:bg-blue-300 transition-all text-sm\">\n                  <PlusCircle className=\"inline-block mr-2 h-4 w-4\" />\n                  Crear mi primer proyecto\n                </button>\n              </Link>\n            </div>\n          </div>\n        ) : (\n          <div className=\"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-6\">\n            {projects.map((project, i) => (\n              <Link key={project.id} href={`/projects/${project.id}`}>\n                <div className={`rounded-2xl p-6 shadow-sm border border-neutral-200 hover:scale-[1.02] transition-transform cursor-pointer h-[350px] flex flex-col ${colors[i % colors.length]}`}>\n                  <h3 className=\"text-2xl font-semibold text-neutral-900\">{project.name}</h3>\n                  <p className=\"text-neutral-600 text-sm mt-2\">{project.description || \"Sin descripción\"}</p>\n                </div>\n              </Link>\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AAEA;AAPA;;;;;;;AAee,SAAS;IACtB,MAAM,EAAE,MAAM,OAAO,EAAE,MAAM,EAAE,GAAG,IAAA,4JAAU;IAC5C,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAY,EAAE;IACtD,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,iNAAQ,EAAC;IAEvD,IAAA,kNAAS,EAAC;QACR,QAAQ,GAAG,CAAC,qCAAqC,QAAQ,YAAY;QACrE,IAAI,WAAW,mBAAmB;YAChC,OAAO,IAAI,CAAC;QACd;IACF,GAAG;QAAC;QAAQ;QAAQ;KAAQ;IAE5B,IAAA,kNAAS,EAAC;QACR,IAAI,SAAS,MAAM,IAAI;YACrB,MAAM,gBAAgB;gBACpB,IAAI;oBACF,MAAM,WAAW,MAAM,MAAM,CAAC,qBAAqB,EAAE,QAAQ,IAAI,CAAC,EAAE,EAAE;oBACtE,IAAI,CAAC,SAAS,EAAE,EAAE;wBAChB,MAAM,IAAI,MAAM;oBAClB;oBACA,MAAM,OAAO,MAAM,SAAS,IAAI;oBAChC,YAAY;gBACd,EAAE,OAAO,OAAO;oBACd,QAAQ,KAAK,CAAC,4BAA4B;gBAC5C,SAAU;oBACR,mBAAmB;gBACrB;YACF;YACA;QACF;IACF,GAAG;QAAC,SAAS,MAAM;KAAG;IAEtB,IAAI,WAAW,aAAa,iBAAiB;QAC3C,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAE,WAAU;0BAA2B;;;;;;;;;;;IAG9C;IAEA,IAAI,CAAC,SAAS;QACZ,OAAO;IACT;IAEA,MAAM,SAAS;QAAC;QAAgB;QAAiB;QAAiB;QAAe;QAAe;KAAgB;IAEhH,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BAEb,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;;8CACC,8OAAC;oCAAG,WAAU;8CAAqD;;;;;;8CACnE,8OAAC;oCAAE,WAAU;8CAAwB;;;;;;;;;;;;sCAEvC,8OAAC,uKAAI;4BAAC,MAAK;sCACT,cAAA,8OAAC;gCAAO,WAAU;0CAAyG;;;;;;;;;;;;;;;;;gBAO9H,SAAS,MAAM,KAAK,kBACnB,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAG,WAAU;0CAA2C;;;;;;0CAGzD,8OAAC;gCAAE,WAAU;0CAAwB;;;;;;0CAGrC,8OAAC,uKAAI;gCAAC,MAAK;0CACT,cAAA,8OAAC;oCAAO,WAAU;;sDAChB,8OAAC,gOAAU;4CAAC,WAAU;;;;;;wCAA8B;;;;;;;;;;;;;;;;;;;;;;yCAO5D,8OAAC;oBAAI,WAAU;8BACZ,SAAS,GAAG,CAAC,CAAC,SAAS,kBACtB,8OAAC,uKAAI;4BAAkB,MAAM,CAAC,UAAU,EAAE,QAAQ,EAAE,EAAE;sCACpD,cAAA,8OAAC;gCAAI,WAAW,CAAC,mIAAmI,EAAE,MAAM,CAAC,IAAI,OAAO,MAAM,CAAC,EAAE;;kDAC/K,8OAAC;wCAAG,WAAU;kDAA2C,QAAQ,IAAI;;;;;;kDACrE,8OAAC;wCAAE,WAAU;kDAAiC,QAAQ,WAAW,IAAI;;;;;;;;;;;;2BAH9D,QAAQ,EAAE;;;;;;;;;;;;;;;;;;;;;AAYnC"}}]
}